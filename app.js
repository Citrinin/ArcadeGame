!function i(u,a,s){function c(t,e){if(!a[t]){if(!u[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(f)return f(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=a[t]={exports:{}};u[t][0].call(o.exports,function(e){return c(u[t][1][e]||e)},o,o.exports,i,u,a,s)}return a[t].exports}for(var f="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=e("./hero"),u=(r=i)&&r.__esModule?r:{default:r};var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.level=1,this.baseSpeed=20,this.canvas=document.querySelector("canvas"),this.canvas.width=800,this.canvas.height=800,this.context=this.canvas.getContext("2d"),this.hero=new u.default(this),this.runGame()}return o(e,[{key:"runGame",value:function(){var e=this;setInterval(function(){e.context.clearRect(0,0,e.canvas.width,e.canvas.height),e.context.drawImage(e.hero.getNextSprite(),e.hero.position.x,e.hero.position.y,115,100)},30)}}]),e}();n.default=a},{"./hero":2}],2:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0});var o,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=e("./person"),a=(o=u)&&o.__esModule?o:{default:o};var s=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,".cat-img"));return t.setUpHero(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),i(n,[{key:"getPosition",value:function(){}},{key:"setUpHero",value:function(){var t=this;document.addEventListener("keydown",function(e){37===e.keyCode&&(t.position.x-=5),38===e.keyCode&&(t.position.y-=5),39===e.keyCode&&(t.position.x+=5),40===e.keyCode&&(t.position.y+=5)})}}]),n}();n.default=s},{"./person":3}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();var o=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.position={x:0,y:0},this.sprites=[].slice.call(document.querySelectorAll(t)),this.speed=e.level*e.baseSpeed,this.currentImg=0}return r(n,[{key:"getNextSprite",value:function(){return this.currentImg>=this.sprites.length&&(this.currentImg=0),this.sprites[this.currentImg++]}}]),n}();n.default=o},{}],4:[function(e,t,n){"use strict";var r=i(e("./utils/router")),o=i(e("./routes"));function i(e){return e&&e.__esModule?e:{default:e}}new r.default(o.default)},{"./routes":5,"./utils/router":7}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./gameObjects/gameState"));o(e("./utils/detectMobile"));function o(e){return e&&e.__esModule?e:{default:e}}var i=document.querySelector(".content"),u=[{match:"",onEnter:function(){window.location.hash="game"}},{match:"about",onEnter:function(){a("about"),i.innerHTML='<h1 class="about"><span>Super game Cats vs Ninjas</span><h1>'}},{match:"game",onEnter:function(){a("game");var e=document.createElement("canvas");i.innerHTML="",i.appendChild(e),new r.default}},{match:"scores",onEnter:function(){a("scores"),i.innerHTML='<h1 class="about"><span>Scores</span><h1>'}}];function a(e){document.querySelector(".active").className="",document.querySelector('[href="#'+e+'"]').parentElement.className="active"}n.default=u,document.addEventListener("mousedown",function(){var e=new Event("keydown");e.keyCode=39,document.dispatchEvent(e)})},{"./gameObjects/gameState":1,"./utils/detectMobile":6}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}},{}],7:[function(e,t,n){"use strict";function r(e){var t=this;this.routes=e||[],this.currentRoute,this.previousRoute,this.currentParams,this.previousParams,window.addEventListener("hashchange",function(){t.handler(window.location.hash)}),this.handler(window.location.hash)}Object.defineProperty(n,"__esModule",{value:!0}),(n.default=r).prototype={handler:function(e){this.previousRoute=this.currentRoute,this.previousParams=this.currentParams,this.currentRoute=this.findNewRoute(e),this.launchHandlers()},findNewRoute:function(e){e=e.slice(1);for(var t=0;t<this.routes.length;t++){var n=this.routes[t];if("string"==typeof n.match&&n.match===e)return this.currentParams="",n;if("function"==typeof n.match&&n.match(e))return this.currentParams="",n;if(n.match instanceof RegExp&&n.match.test(e))return this.currentParams=e.match(n.match)||[],this.currentParams.splice(0,1),n}},launchHandlers:function(){var e=this;Promise.resolve().then(function(){e.previousRoute&&e.previousRoute.onLeave&&e.previousRoute.onLeave(e.previousParams)}).then(function(){e.currentRoute&&e.currentRoute.onBeforeEnter&&e.currentRoute.onBeforeEnter(e.currentParams)}).then(function(){e.currentRoute&&e.currentRoute.onEnter&&e.currentRoute.onEnter(e.currentParams)})}}},{}]},{},[4]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvZ2FtZU9iamVjdHMvZ2FtZVN0YXRlLmpzIiwic3JjL2pzL2dhbWVPYmplY3RzL2hlcm8uanMiLCJzcmMvanMvZ2FtZU9iamVjdHMvcGVyc29uLmpzIiwic3JjL2pzL21haW4uanMiLCJzcmMvanMvcm91dGVzLmpzIiwic3JjL2pzL3V0aWxzL2RldGVjdE1vYmlsZS5qcyIsInNyYy9qcy91dGlscy9yb3V0ZXIuanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiX2hlcm8iLCJHYW1lU3RhdGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwibGV2ZWwiLCJiYXNlU3BlZWQiLCJjYW52YXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiaGVybyIsIl9oZXJvMiIsImRlZmF1bHQiLCJydW5HYW1lIiwiX3RoaXMiLCJzZXRJbnRlcnZhbCIsImNsZWFyUmVjdCIsImRyYXdJbWFnZSIsImdldE5leHRTcHJpdGUiLCJwb3NpdGlvbiIsIngiLCJ5IiwiX3BlcnNvbiIsIkhlcm8iLCJnYW1lU3RhdGUiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9fcHJvdG9fXyIsIk9iamVjdCIsImdldFByb3RvdHlwZU9mIiwic2V0VXBIZXJvIiwiX3BlcnNvbjIiLCJfdGhpczIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXlDb2RlIiwiUGVyc29uIiwic2VsZWN0b3IiLCJzcHJpdGVzIiwic2xpY2UiLCJxdWVyeVNlbGVjdG9yQWxsIiwic3BlZWQiLCJjdXJyZW50SW1nIiwiX3JvdXRlcjIiLCJfcm91dGVzMiIsImNvbnRlbnQiLCJyb3V0ZXMiLCJtYXRjaCIsIm9uRW50ZXIiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhhc2giLCJjaGFuZ2VBY3RpdmVQYWdlIiwiaW5uZXJIVE1MIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiX2dhbWVTdGF0ZTIiLCJuZXdQYWdlIiwiY2xhc3NOYW1lIiwicGFyZW50RWxlbWVudCIsIkV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIlJvdXRlciIsInJvdXRlUGFyYW1zIiwiY3VycmVudFJvdXRlIiwicHJldmlvdXNSb3V0ZSIsImN1cnJlbnRQYXJhbXMiLCJwcmV2aW91c1BhcmFtcyIsImhhbmRsZXIiLCJwcm90b3R5cGUiLCJmaW5kTmV3Um91dGUiLCJsYXVuY2hIYW5kbGVycyIsImVsZW1lbnQiLCJSZWdFeHAiLCJ0ZXN0Iiwic3BsaWNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwib25MZWF2ZSIsIm9uQmVmb3JlRW50ZXIiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxJQUFBSixFQUFBRyxHQUFBLENBQUEsSUFBQUosRUFBQUksR0FBQSxDQUFBLElBQUFFLEVBQUEsbUJBQUFDLFNBQUFBLFFBQUEsSUFBQUYsR0FBQUMsRUFBQSxPQUFBQSxFQUFBRixHQUFBLEdBQUEsR0FBQUksRUFBQSxPQUFBQSxFQUFBSixHQUFBLEdBQUEsSUFBQUssRUFBQSxJQUFBQyxNQUFBLHVCQUFBTixFQUFBLEtBQUEsTUFBQUssRUFBQUUsS0FBQSxtQkFBQUYsRUFBQSxJQUFBRyxFQUFBWCxFQUFBRyxHQUFBLENBQUFTLFFBQUEsSUFBQWIsRUFBQUksR0FBQSxHQUFBVSxLQUFBRixFQUFBQyxRQUFBLFNBQUFkLEdBQUEsT0FBQUksRUFBQUgsRUFBQUksR0FBQSxHQUFBTCxJQUFBQSxJQUFBYSxFQUFBQSxFQUFBQyxRQUFBZCxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLE9BQUFE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S0FBQW1FLGNBQUEsR0FDQU0sRUFFSixHQUFJLG1CQUFRQSxFQUFSM0IsT0FBd0MyQixFQUFBM0IsTUFBNUNJLEdBRUksT0FEQWxELEtBQUFtRSxjQUFBLEdBQ0FNLEVBRUosR0FBS0EsRUFBQTNCLGlCQUFENEIsUUFBcUNELEVBQUEzQixNQUFBNkIsS0FBekN6QixHQUdJLE9BRkFsRCxLQUFBbUUsY0FBcUJqQixFQUFBSixNQUFXMkIsRUFBWDNCLFFBQXJCLEdBQ0E5QyxLQUFBbUUsY0FBQVMsT0FBQSxFQUFBLEdBQ0FILElBdkJHRCxlQUFBLFdBMkJFLElBQUF6QyxFQUFBL0IsS0FDYjZFLFFBQUFDLFVBQUFDLEtBQ1UsV0FBUWhELEVBQUFtQyxlQUFzQm5DLEVBQUFtQyxjQUF0QmMsU0FBb0RqRCxFQUFBbUMsY0FBQWMsUUFBMkJqRCxFQUEvRXFDLGtCQURsQlcsS0FFVSxXQUFRaEQsRUFBQWtDLGNBQXFCbEMsRUFBQWtDLGFBQXJCZ0IsZUFBd0RsRCxFQUFBa0MsYUFBQWdCLGNBQWdDbEQsRUFBeEZvQyxpQkFGbEJZLEtBR1UsV0FBUWhELEVBQUFrQyxjQUFxQmxDLEVBQUFrQyxhQUFyQmxCLFNBQWtEaEIsRUFBQWtDLGFBQUFsQixRQUEwQmhCLEVBQTVFb0MiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCBIZXJvIGZyb20gJy4vaGVybyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lU3RhdGUge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5sZXZlbCA9IDE7XHJcblx0XHR0aGlzLmJhc2VTcGVlZCA9IDIwO1xyXG5cdFx0dGhpcy5jYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjYW52YXMnKTtcclxuXHRcdHRoaXMuY2FudmFzLndpZHRoID0gODAwO1xyXG5cdFx0dGhpcy5jYW52YXMuaGVpZ2h0ID0gODAwO1xyXG5cclxuXHRcdHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG5cdFx0dGhpcy5oZXJvID0gbmV3IEhlcm8odGhpcyk7XHJcblx0XHR0aGlzLnJ1bkdhbWUoKTtcclxuXHR9XHJcblxyXG5cdHJ1bkdhbWUoKSB7XHJcblx0XHRzZXRJbnRlcnZhbCgoKSA9PiB7XHJcblx0XHRcdHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcblx0XHRcdHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5oZXJvLmdldE5leHRTcHJpdGUoKSwgdGhpcy5oZXJvLnBvc2l0aW9uLngsIHRoaXMuaGVyby5wb3NpdGlvbi55LCAxMTUsIDEwMCk7XHJcblx0XHR9LCAzMCk7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCBQZXJzb24gZnJvbSAnLi9wZXJzb24nO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVybyBleHRlbmRzIFBlcnNvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihnYW1lU3RhdGUpIHtcclxuICAgICAgICBzdXBlcihnYW1lU3RhdGUsICcuY2F0LWltZycpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBIZXJvKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldFBvc2l0aW9uKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXRVcEhlcm8oKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMzcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueCAtPSA1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAzOCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi55IC09IDU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDM5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnggKz0gNTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gNDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueSArPSA1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGVyc29uIHtcclxuICAgIGNvbnN0cnVjdG9yKGdhbWVTdGF0ZSwgc2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICB5OiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNwcml0ZXMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcclxuICAgICAgICB0aGlzLnNwZWVkID0gZ2FtZVN0YXRlLmxldmVsICogZ2FtZVN0YXRlLmJhc2VTcGVlZDtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJbWcgPSAwO1xyXG4gICAgfVxyXG4gICAgZ2V0TmV4dFNwcml0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50SW1nID49IHRoaXMuc3ByaXRlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW1nID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlc1t0aGlzLmN1cnJlbnRJbWcrK107XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGNsYXNzIER1bW15RW5lbXkgZXh0ZW5kcyBQZXJzb24ge1xyXG4vLyAgICAgY29uc3RydWN0b3IoZ2FtZVN0YXRlKSB7XHJcbi8vICAgICAgICAgc3VwZXIoZ2FtZVN0YXRlKTtcclxuLy8gICAgICAgICBzcHJpdGVzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmluamEtaW1nJykpO1xyXG4vLyAgICAgfVxyXG4vLyAgICAgc3RlcCgpe1xyXG4vLyAgICAgICAgIHRoaXMucG9zaXRpb25cclxuLy8gICAgIH1cclxuLy8gfSIsImltcG9ydCBSb3V0ZXIgZnJvbSAnLi91dGlscy9yb3V0ZXInO1xyXG5pbXBvcnQgcm91dGVzIGZyb20gJy4vcm91dGVzJztcclxuXHJcbm5ldyBSb3V0ZXIocm91dGVzKTsiLCJpbXBvcnQgR2FtZVN0YXRlIGZyb20gJy4vZ2FtZU9iamVjdHMvZ2FtZVN0YXRlJztcclxuaW1wb3J0IGRldGVjdE1vYmlsZSBmcm9tICcuL3V0aWxzL2RldGVjdE1vYmlsZSc7XHJcblxyXG5sZXQgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50Jyk7XHJcblxyXG5jb25zdCByb3V0ZXMgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgbWF0Y2g6ICcnLFxyXG4gICAgICAgIG9uRW50ZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSAnZ2FtZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBtYXRjaDogJ2Fib3V0JyxcclxuICAgICAgICBvbkVudGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNoYW5nZUFjdGl2ZVBhZ2UoJ2Fib3V0Jyk7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJzxoMSBjbGFzcz1cImFib3V0XCI+PHNwYW4+U3VwZXIgZ2FtZSBDYXRzIHZzIE5pbmphczwvc3Bhbj48aDE+JztcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG1hdGNoOiAnZ2FtZScsXHJcbiAgICAgICAgb25FbnRlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICBjaGFuZ2VBY3RpdmVQYWdlKCdnYW1lJyk7XHJcbiAgICAgICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG4gICAgICAgICAgICBuZXcgR2FtZVN0YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBtYXRjaDogJ3Njb3JlcycsXHJcbiAgICAgICAgb25FbnRlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICBjaGFuZ2VBY3RpdmVQYWdlKCdzY29yZXMnKTtcclxuICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgPSAnPGgxIGNsYXNzPVwiYWJvdXRcIj48c3Bhbj5TY29yZXM8L3NwYW4+PGgxPic7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXTtcclxuXHJcbmZ1bmN0aW9uIGNoYW5nZUFjdGl2ZVBhZ2UobmV3UGFnZSkge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZScpLmNsYXNzTmFtZSA9ICcnO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2hyZWY9XCIjJHtuZXdQYWdlfVwiXWApLnBhcmVudEVsZW1lbnQuY2xhc3NOYW1lID0gJ2FjdGl2ZSc7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcztcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+IHtcclxuICAgIGxldCBlID0gbmV3IEV2ZW50KCdrZXlkb3duJyk7XHJcbiAgICBlLmtleUNvZGUgPSAzOTtcclxuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZSk7XHJcbn0pOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRldGVjdG1vYmlsZSgpIHtcclxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkL2kpXHJcbiAgICAgICAgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvd2ViT1MvaSlcclxuICAgICAgICB8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGhvbmUvaSlcclxuICAgICAgICB8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGFkL2kpXHJcbiAgICAgICAgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBvZC9pKVxyXG4gICAgICAgIHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0JsYWNrQmVycnkvaSlcclxuICAgICAgICB8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9XaW5kb3dzIFBob25lL2kpXHJcbiAgICApIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufSIsIi8qKlxyXG4gKiDQpNGD0L3QutGG0LjRjyDQtNC70Y8g0LTQvtCx0LDQstC70LXQvdC40Y8g0Lgg0L7QsdGA0LDQsdC+0YLQutC4INGA0L7Rg9GC0L7QsiDQvdCwINGB0YLRgNCw0L3QuNGG0LVcclxuICogQHBhcmFtIHsqfSByb3V0ZVBhcmFtcyDQvNCw0YHRgdC40LIg0L/QsNGA0LDQvNC10YLRgNC+0LIg0LTQu9GPINC+0LHRgNCw0LHQvtGC0LrQuCDRgNC+0YPRgtC+0LJcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJvdXRlcihyb3V0ZVBhcmFtcykge1xyXG4gICAgdGhpcy5yb3V0ZXMgPSByb3V0ZVBhcmFtcyB8fCBbXTtcclxuICAgIHRoaXMuY3VycmVudFJvdXRlO1xyXG4gICAgdGhpcy5wcmV2aW91c1JvdXRlO1xyXG4gICAgdGhpcy5jdXJyZW50UGFyYW1zO1xyXG4gICAgdGhpcy5wcmV2aW91c1BhcmFtcztcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlcih3aW5kb3cubG9jYXRpb24uaGFzaCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuaGFuZGxlcih3aW5kb3cubG9jYXRpb24uaGFzaCk7XHJcbn1cclxuXHJcblJvdXRlci5wcm90b3R5cGUgPSB7XHJcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiAoaGFzaCkge1xyXG4gICAgICAgIHRoaXMucHJldmlvdXNSb3V0ZSA9IHRoaXMuY3VycmVudFJvdXRlO1xyXG4gICAgICAgIHRoaXMucHJldmlvdXNQYXJhbXMgPSB0aGlzLmN1cnJlbnRQYXJhbXM7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50Um91dGUgPSB0aGlzLmZpbmROZXdSb3V0ZShoYXNoKTtcclxuICAgICAgICB0aGlzLmxhdW5jaEhhbmRsZXJzKCk7XHJcbiAgICB9LFxyXG4gICAgZmluZE5ld1JvdXRlOiBmdW5jdGlvbiAoaGFzaCkge1xyXG4gICAgICAgIGhhc2ggPSBoYXNoLnNsaWNlKDEpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucm91dGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5yb3V0ZXNbaV07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKGVsZW1lbnQubWF0Y2gpID09ICdzdHJpbmcnICYmIGVsZW1lbnQubWF0Y2ggPT09IGhhc2gpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhcmFtcyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiAoZWxlbWVudC5tYXRjaCkgPT0gJ2Z1bmN0aW9uJyAmJiBlbGVtZW50Lm1hdGNoKGhhc2gpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXJhbXMgPSAnJztcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgoZWxlbWVudC5tYXRjaCBpbnN0YW5jZW9mIFJlZ0V4cCkgJiYgZWxlbWVudC5tYXRjaC50ZXN0KGhhc2gpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXJhbXMgPSBoYXNoLm1hdGNoKGVsZW1lbnQubWF0Y2gpIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFyYW1zLnNwbGljZSgwLCAxKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxhdW5jaEhhbmRsZXJzKCkge1xyXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHsgdGhpcy5wcmV2aW91c1JvdXRlICYmIHRoaXMucHJldmlvdXNSb3V0ZS5vbkxlYXZlICYmIHRoaXMucHJldmlvdXNSb3V0ZS5vbkxlYXZlKHRoaXMucHJldmlvdXNQYXJhbXMpOyB9KVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7IHRoaXMuY3VycmVudFJvdXRlICYmIHRoaXMuY3VycmVudFJvdXRlLm9uQmVmb3JlRW50ZXIgJiYgdGhpcy5jdXJyZW50Um91dGUub25CZWZvcmVFbnRlcih0aGlzLmN1cnJlbnRQYXJhbXMpOyB9KVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7IHRoaXMuY3VycmVudFJvdXRlICYmIHRoaXMuY3VycmVudFJvdXRlLm9uRW50ZXIgJiYgdGhpcy5jdXJyZW50Um91dGUub25FbnRlcih0aGlzLmN1cnJlbnRQYXJhbXMpOyB9KTtcclxuICAgIH1cclxufTsiXX0=
