!function o(a,s,c){function u(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(h)return h(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[t]={exports:{}};a[t][0].call(r.exports,function(e){return u(a[t][1][e]||e)},r,r.exports,o,a,s,c)}return s[t].exports}for(var h="function"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0});var r,o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=e("./person"),s=(r=a)&&r.__esModule?r:{default:r};var c=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,"goblin"));return t.width=36,t.height=48,t.generatePosition(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),o(n,[{key:"step",value:function(){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"step",this).call(this)}},{key:"generatePosition",value:function(){for(;this.position={x:Math.abs(this.width-this.game.width*Math.random()),y:this.game.height/2*Math.random()},this.getDistanceToHero()<200;);}},{key:"getDistanceToHero",value:function(){var e=this.game.hero;return Math.sqrt(Math.pow(e.position.x-this.position.x,2)+Math.pow(e.position.y-this.position.y,2))}}]),n}();n.default=c},{"./person":5}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=20,this.height=20,this.game=e,this.generatePosition(),this.sprite=this.generateSptite()}return i(t,[{key:"getNextSprite",value:function(){return this.sprite}},{key:"generatePosition",value:function(){for(;this.position={x:Math.abs(this.width-this.game.width*Math.random()),y:this.game.height/2*Math.random()},this.getDistanceToHero()<200;);}},{key:"getDistanceToHero",value:function(){var e=this.game.hero;return Math.sqrt(Math.pow(e.position.x-this.position.x,2)+Math.pow(e.position.y-this.position.y,2))}},{key:"generateSptite",value:function(){var e=document.querySelectorAll(".fruit-img");return e[Math.round(Math.random()*(e.length-1))]}},{key:"personState",get:function(){return{x:this.position.x,y:this.position.y}},set:function(e){this.position.x=e.x,this.position.y=e.y}}]),t}();n.default=r},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=u(e("./hero")),o=u(e("./dummyEnemy")),a=u(e("./smartEnemy")),s=u(e("../utils/firebase")),c=u(e("./fruit"));function u(e){return e&&e.__esModule?e:{default:e}}var h=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameOnScreen=!1,this.width=1e3<=window.innerWidth?1e3:window.innerWidth,this.height=(document.documentElement.clientHeight||document.body.clientHeight)-160,this.containter=e,this.setUpHero()}return i(t,[{key:"setUpGame",value:function(){var e=this;this.setUpCanvas(),this.hero=new r.default(this),this.replayData=[],this.characters=new Array(2).fill(0).map(function(){return new o.default(e)}),this.characters.push(new a.default(this)),this.fruits=[],this.level=1,this.baseSpeed=0,this.gamePlays=!1,this.gameTimer=0,this.timerHandler=setInterval(function(){return e.gameStep()},100)}},{key:"gameStep",value:function(){var t=this;this.context.clearRect(0,0,this.width,this.height);var n=[];this.drawCharacter(this.hero),this.characters.forEach(function(e){t.drawCharacter(e),n.push({character:e,state:e.personState})}),this.hero.rageMode?this.characters=this.characters.filter(function(e){return!t.checkCharactersIntersection(t.hero,e)}):this.characters.some(function(e){return t.checkCharactersIntersection(t.hero,e)})&&this.loseGame(),this.fruits.forEach(function(e){t.drawCharacter(e),n.push({character:e,state:e.personState})}),this.fruits=this.fruits.filter(function(e){return!t.checkCharactersIntersection(t.hero,e)||(t.hero.enableRage(),!1)}),n.push({character:this.hero,state:this.hero.personState}),this.gamePlays&&this.replayData.push(n)}},{key:"drawCharacter",value:function(e){this.context.drawImage(e.getNextSprite(),e.position.x,e.position.y,e.width,e.height)}},{key:"checkCharactersIntersection",value:function(e,t){if(e.position.x+20<=t.position.x+t.width&&e.position.x+e.width>=t.position.x+20&&e.position.y+20<=t.position.y+t.height&&e.position.y+e.height>=t.position.y+20)return!0}},{key:"runGame",value:function(){this.gameTimer=(new Date).getTime(),this.gamePlays=!0,this.baseSpeed=5,this.setLevel()}},{key:"loseGame",value:function(){this.endGame();var e=((new Date).getTime()-this.gameTimer)/1e3,t=prompt("Your score is "+e+" seconds.\n Enter your name","Batman");t&&s.default.saveScore({name:t,score:e}),this.addEndGameButtons()}},{key:"endGame",value:function(){clearInterval(this.timerHandler),clearInterval(this.levelTimer),this.gamePlays=!1,this.baseSpeed=0,this.gameOnScreen=!1}},{key:"setLevel",value:function(){var t=this;this.levelTimer=setInterval(function(){t.level+=1,t.characters.push(new o.default(t)),t.level%2==1&&t.characters.push(new a.default(t)),4<=t.level&&t.fruits.push(new c.default(t));var e=document.createElement("div");e.classList.add("level-up"),e.innerHTML="Level Up! Current level - "+t.level,t.containter.appendChild(e),setTimeout(function(){t.containter.removeChild(e)},1e3)},1e4)}},{key:"addEndGameButtons",value:function(){var e=document.createElement("div");e.classList.add("end-buttons");var t=document.createElement("button");t.innerHTML="Watch replay",t.addEventListener("click",function(){window.location.hash="watchreplay"});var n=document.createElement("button");n.innerHTML="Start new game",n.addEventListener("click",function(){window.location.hash="newgame"}),e.appendChild(t),e.appendChild(n),this.containter.appendChild(e)}},{key:"setUpHero",value:function(){var t=this;document.addEventListener("keydown",function(e){if(t.gameOnScreen){switch(e.keyCode){case 37:t.hero.directionAngle=Math.PI;break;case 38:t.hero.directionAngle=Math.PI/2;break;case 39:t.hero.directionAngle=0;break;case 40:t.hero.directionAngle=Math.PI/2*3;break;default:return}t.gamePlays||t.runGame()}})}},{key:"setUpCanvas",value:function(){this.gameOnScreen=!0,this.canvas=document.createElement("canvas"),this.containter.innerHTML="",this.containter.appendChild(this.canvas),this.canvas.width=this.width,this.canvas.height=this.height,this.context=this.canvas.getContext("2d")}},{key:"replayGame",value:function(){var t=this;clearInterval(this.replayTimer);var e=0;this.replayTimer=setInterval(function(){e>=(t.replayData||[]).length?clearInterval(t.replayTimer):(t.context.clearRect(0,0,t.width,t.height),t.replayData[e].forEach(function(e){e.character.personState=e.state,t.drawCharacter(e.character)}),e++)},20)}}]),t}();n.default=h},{"../utils/firebase":11,"./dummyEnemy":1,"./fruit":2,"./hero":4,"./smartEnemy":6}],4:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0});var r,o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=e("./person"),s=(r=a)&&r.__esModule?r:{default:r};var c=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,"knight"));return t.width=55,t.height=75,t.position={x:(t.game.width-t.width)/2,y:t.game.height-t.height},t.rageMode=!1,t.sprites=t.spritesCollection.down,t.directionAngle=Math.PI/2,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),o(n,[{key:"getSpeed",value:function(){this.speed=this.game.baseSpeed*this.game.level}},{key:"enableRage",value:function(){var e=this;this.spritesCollection=this.furySpritesCollection,this.selectSprites(),this.rageMode=!0,this.width=75,this.game.canvas.classList.add("rage-canvas"),setTimeout(function(){e.spritesCollection=e.normalSpritesColletcion,e.selectSprites(),e.rageMode=!1,e.width=55,e.game.canvas.classList.remove("rage-canvas")},3e3)}},{key:"getAllSprites",value:function(){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getAllSprites",this).call(this),this.normalSpritesColletcion=this.spritesCollection;var e="knight-kills";this.furySpritesCollection={left:this.getSprites("."+e+"-left-img"),right:this.getSprites("."+e+"-right-img"),up:this.getSprites("."+e+"-up-img"),down:this.getSprites("."+e+"-down-img")}}},{key:"personState",get:function(){return{x:this.position.x,y:this.position.y,directionAngle:this.directionAngle,rageMode:this.rageMode}},set:function(e){this.directionAngle=e.directionAngle,this.position.x=e.x,this.position.y=e.y,this.rageMode!==e.rageMode&&(this.rageMode=e.rageMode,this.spritesCollection=this.rageMode?this.furySpritesCollection:this.normalSpritesColletcion,this.selectSprites())}}]),n}();n.default=c},{"./person":5}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var r=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.selector=t,this.getAllSprites(),this.game=e,this.directionAngle=2*Math.PI*Math.random(),this.speed=e.level*e.baseSpeed/2,this.currentImg=0}return i(n,[{key:"selectSprites",value:function(){this.directionAngle>=5*Math.PI/4&&this.directionAngle<=7*Math.PI/4?this.sprites=this.spritesCollection.down:this.directionAngle>=Math.PI/4&&this.directionAngle<=3*Math.PI/4?this.sprites=this.spritesCollection.up:this.directionAngle>=3*Math.PI/4&&this.directionAngle<=5*Math.PI/4?this.sprites=this.spritesCollection.left:this.sprites=this.spritesCollection.right}},{key:"getAllSprites",value:function(){this.spritesCollection={left:this.getSprites("."+this.selector+"-left-img"),right:this.getSprites("."+this.selector+"-right-img"),up:this.getSprites("."+this.selector+"-up-img"),down:this.getSprites("."+this.selector+"-down-img")}}},{key:"getSprites",value:function(e){return[].slice.call(document.querySelectorAll(e))}},{key:"getNextSprite",value:function(){return this.step(),this.currentImg>=this.sprites.length&&(this.currentImg=0),this.sprites[this.currentImg++]}},{key:"step",value:function(){this.getSpeed(),this.position.x+=Math.cos(this.directionAngle)*this.speed,this.position.x+this.width/2>this.game.width&&(this.position.x=-this.width/2),this.position.x+this.width/2<0&&(this.position.x=this.game.width-this.width/2),this.position.y-=Math.sin(this.directionAngle)*this.speed,this.position.y+this.height/2>this.game.height&&(this.position.y=-this.height/2),this.position.y+this.height/2<0&&(this.position.y=this.game.height-this.height/2)}},{key:"getSpeed",value:function(){this.speed=this.game.baseSpeed*this.game.level/2}},{key:"directionAngle",get:function(){return this._directionAngle},set:function(e){this._directionAngle=e,this.selectSprites()}},{key:"personState",get:function(){return{x:this.position.x,y:this.position.y,directionAngle:this.directionAngle}},set:function(e){this.directionAngle=e.directionAngle,this.position.x=e.x,this.position.y=e.y}}]),n}();n.default=r},{}],6:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0});var i,o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=e("./person"),s=(i=a)&&i.__esModule?i:{default:i};var c=function(e){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,"rogue"));return t.range=300,t.width=40,t.height=45,t.generatePosition(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,s.default),o(i,[{key:"step",value:function(){var e=this.game.hero.position,t=this.position;if(this.getDistanceToHero()<=this.range&&e.x!==t.x){var n=Math.atan((e.y-t.y)/(e.x-t.x));e.x>t.x&&e.y<t.y||e.x>t.x&&e.y>t.y?this.directionAngle=2*Math.PI-n:this.directionAngle=Math.PI-n}(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"step",this).call(this)}},{key:"generatePosition",value:function(){for(;this.position={x:Math.abs(this.width-this.game.width*Math.random()),y:this.game.height/2*Math.random()},this.getDistanceToHero()<200;);}},{key:"getDistanceToHero",value:function(){var e=this.game.hero;return Math.sqrt(Math.pow(e.position.x-this.position.x,2)+Math.pow(e.position.y-this.position.y,2))}}]),i}();n.default=c},{"./person":5}],7:[function(e,t,n){"use strict";var i=o(e("./utils/router")),r=o(e("./routes"));function o(e){return e&&e.__esModule?e:{default:e}}(0,o(e("./utils/addButtonsForMobile")).default)(),new i.default(r.default)},{"./routes":8,"./utils/addButtonsForMobile":9,"./utils/router":12}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=o(e("./gameObjects/gameState")),r=o(e("./utils/firebase"));function o(e){return e&&e.__esModule?e:{default:e}}var a=document.querySelector(".content"),s=new i.default(a),c=[{match:"",onEnter:function(){window.location.hash="game"}},{match:"about",onEnter:function(){u("about"),a.innerHTML='<h1><span>Super arcade game</span></h1><div class="w-100"/><div><h2>Author <a href="https://github.com/citrinin">Kate Kuzkina</a></h2></div>'}},{match:"game",onEnter:function(){u("game"),s.setUpGame()},onLeave:function(){s.endGame()}},{match:"scores",onEnter:function(){u("scores"),r.default.getScores().then(function(e){a.innerHTML='<h1 class="about"><span>Scores</span></h1>';var n=document.createElement("ol");e.forEach(function(e){var t=document.createElement("li");t.innerHTML=e.name+" - "+e.score,n.appendChild(t)});var t=document.createElement("div");t.classList.add("w-100"),a.appendChild(t);var i=document.createElement("div");i.appendChild(n),a.appendChild(i)})}},{match:"replay",onEnter:function(){0!==(s.replayData||[]).length?s.replayGame():window.location.hash="game"}},{match:"watchreplay",onEnter:function(){window.location.hash="replay"}},{match:"newgame",onEnter:function(){window.location.hash="game"}}];function u(e){document.querySelector(".active").className="",document.querySelector('[href="#'+e+'"]').parentElement.className="active"}n.default=c},{"./gameObjects/gameState":3,"./utils/firebase":11}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if((0,o.default)()){var e=document.createElement("div");e.classList.add("buttons");var t=document.createElement("button");t.innerHTML="<",t.classList.add("left");var n=document.createElement("button");n.innerHTML="^",n.classList.add("up");var i=document.createElement("button");i.innerHTML=">",i.classList.add("right");var r=document.createElement("button");r.innerHTML="v",r.classList.add("down"),e.appendChild(t),e.appendChild(n),e.appendChild(i),e.appendChild(r),e.addEventListener("click",function(e){if(e.target.matches(".right")){var t=new Event("keydown");return t.keyCode=39,void document.dispatchEvent(t)}if(e.target.matches(".left")){var n=new Event("keydown");return n.keyCode=37,void document.dispatchEvent(n)}if(e.target.matches(".up")){var i=new Event("keydown");return i.keyCode=38,void document.dispatchEvent(i)}if(e.target.matches(".down")){var r=new Event("keydown");return r.keyCode=40,void document.dispatchEvent(r)}}),document.body.appendChild(e)}};var i,r=e("./detectMobile"),o=(i=r)&&i.__esModule?i:{default:i}},{"./detectMobile":10}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var r="https://kate-arcade-game.firebaseio.com/.json",o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"getScores",value:function(){return fetch(r).then(function(e){return e.json()})}},{key:"saveScore",value:function(n){this.getScores().then(function(e){var t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e||[]),[n]);t.sort(function(e,t){return e.score>t.score?-1:e.score<t.score?1:0}),t.splice(10),fetch(r,{method:"PUT",body:JSON.stringify(t)})})}}]),e}();n.default=o},{}],12:[function(e,t,n){"use strict";function i(e){var t=this;this.routes=e||[],this.currentRoute,this.previousRoute,this.currentParams,this.previousParams,window.addEventListener("hashchange",function(){t.handler(window.location.hash)}),this.handler(window.location.hash)}Object.defineProperty(n,"__esModule",{value:!0}),(n.default=i).prototype={handler:function(e){this.previousRoute=this.currentRoute,this.previousParams=this.currentParams,this.currentRoute=this.findNewRoute(e),this.launchHandlers()},findNewRoute:function(e){e=e.slice(1);for(var t=0;t<this.routes.length;t++){var n=this.routes[t];if("string"==typeof n.match&&n.match===e)return this.currentParams="",n;if("function"==typeof n.match&&n.match(e))return this.currentParams="",n;if(n.match instanceof RegExp&&n.match.test(e))return this.currentParams=e.match(n.match)||[],this.currentParams.splice(0,1),n}},launchHandlers:function(){var e=this;Promise.resolve().then(function(){e.previousRoute&&e.previousRoute.onLeave&&e.previousRoute.onLeave(e.previousParams)}).then(function(){e.currentRoute&&e.currentRoute.onBeforeEnter&&e.currentRoute.onBeforeEnter(e.currentParams)}).then(function(){e.currentRoute&&e.currentRoute.onEnter&&e.currentRoute.onEnter(e.currentParams)})}}},{}]},{},[7]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvZ2FtZU9iamVjdHMvZHVtbXlFbmVteS5qcyIsInNyYy9qcy9nYW1lT2JqZWN0cy9mcnVpdC5qcyIsInNyYy9qcy9nYW1lT2JqZWN0cy9nYW1lU3RhdGUuanMiLCJzcmMvanMvZ2FtZU9iamVjdHMvaGVyby5qcyIsInNyYy9qcy9nYW1lT2JqZWN0cy9wZXJzb24uanMiLCJzcmMvanMvZ2FtZU9iamVjdHMvc21hcnRFbmVteS5qcyIsInNyYy9qcy9tYWluLmpzIiwic3JjL2pzL3JvdXRlcy5qcyIsInNyYy9qcy91dGlscy9hZGRCdXR0b25zRm9yTW9iaWxlLmpzIiwic3JjL2pzL3V0aWxzL2RldGVjdE1vYmlsZS5qcyIsInNyYy9qcy91dGlscy9maXJlYmFzZS5qcyIsInNyYy9qcy91dGlscy9yb3V0ZXIuanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiX3BlcnNvbiIsIkR1bW15RW5lbXkiLCJnYW1lU3RhdGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX3RoaXMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9fcHJvdG9fXyIsIk9iamVjdCIsImdldFByb3RvdHlwZU9mIiwid2lkdGgiLCJoZWlnaHQiLCJnZW5lcmF0ZVBvc2l0aW9uIiwiX3BlcnNvbjIiLCJkZWZhdWx0IiwiX2dldCIsInByb3RvdHlwZSIsInBvc2l0aW9uIiwieCIsIk1hdGgiLCJhYnMiLCJnYW1lIiwicmFuZG9tIiwieSIsImdldERpc3RhbmNlVG9IZXJvIiwiaGVybyIsInNxcnQiLCJwb3ciLCJGcnVpdCIsInNwcml0ZSIsImdlbmVyYXRlU3B0aXRlIiwic3ByaXRlcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInJvdW5kIiwibmV3UG9zaXRpb24iLCJHYW1lU3RhdGUiLCJlbGVtZW50VG9EcmF3IiwiZ2FtZU9uU2NyZWVuIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudEhlaWdodCIsImJvZHkiLCJjb250YWludGVyIiwic2V0VXBIZXJvIiwic2V0VXBDYW52YXMiLCJfaGVybzIiLCJyZXBsYXlEYXRhIiwiY2hhcmFjdGVycyIsIkFycmF5IiwiZmlsbCIsIm1hcCIsIl9kdW1teUVuZW15MiIsInB1c2giLCJfc21hcnRFbmVteTIiLCJmcnVpdHMiLCJsZXZlbCIsImJhc2VTcGVlZCIsImdhbWVQbGF5cyIsImdhbWVUaW1lciIsInRpbWVySGFuZGxlciIsInNldEludGVydmFsIiwiZ2FtZVN0ZXAiLCJfdGhpczIiLCJjb250ZXh0IiwiY2xlYXJSZWN0Iiwic3RlcERhdGEiLCJkcmF3Q2hhcmFjdGVyIiwiZm9yRWFjaCIsImNoYXJhY3RlciIsInN0YXRlIiwicGVyc29uU3RhdGUiLCJyYWdlTW9kZSIsImZpbHRlciIsImNoZWNrQ2hhcmFjdGVyc0ludGVyc2VjdGlvbiIsInNvbWUiLCJsb3NlR2FtZSIsImZydWl0IiwiZW5hYmxlUmFnZSIsImRyYXdJbWFnZSIsImdldE5leHRTcHJpdGUiLCJlbmVteSIsIkRhdGUiLCJnZXRUaW1lIiwic2V0TGV2ZWwiLCJlbmRHYW1lIiwic2NvcmUiLCJuYW1lIiwicHJvbXB0IiwiX2ZpcmViYXNlMiIsInNhdmVTY29yZSIsImFkZEVuZEdhbWVCdXR0b25zIiwiY2xlYXJJbnRlcnZhbCIsImxldmVsVGltZXIiLCJfdGhpczMiLCJfZnJ1aXQyIiwibWVzc2FnZSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsInNldFRpbWVvdXQiLCJyZW1vdmVDaGlsZCIsImRpdkZvckJ1dHRvbnMiLCJyZXBsYXlCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwibG9jYXRpb24iLCJoYXNoIiwic3RhcnROZXdHYW1lQnV0dG9uIiwiX3RoaXM0IiwiZXZlbnQiLCJrZXlDb2RlIiwiZGlyZWN0aW9uQW5nbGUiLCJQSSIsInJ1bkdhbWUiLCJjYW52YXMiLCJnZXRDb250ZXh0IiwiX3RoaXM1IiwicmVwbGF5VGltZXIiLCJjdXJyZW50U3RhdGUiLCJkYXRhIiwiSGVybyIsInNwcml0ZXNDb2xsZWN0aW9uIiwiZG93biIsInNwZWVkIiwiZnVyeVNwcml0ZXNDb2xsZWN0aW9uIiwic2VsZWN0U3ByaXRlcyIsIm5vcm1hbFNwcml0ZXNDb2xsZXRjaW9uIiwicmVtb3ZlIiwic2VsZWN0b3IiLCJsZWZ0IiwiZ2V0U3ByaXRlcyIsInJpZ2h0IiwidXAiLCJQZXJzb24iLCJnZXRBbGxTcHJpdGVzIiwiY3VycmVudEltZyIsInNsaWNlIiwic3RlcCIsImdldFNwZWVkIiwiY29zIiwic2luIiwiX2RpcmVjdGlvbkFuZ2xlIiwibmV3VmFsdWUiLCJTbWFydEVuZW15IiwicmFuZ2UiLCJoZXJvUG9zaXRpb24iLCJlbmVteVBvc2l0aW9uIiwiYXRhbiIsIl9yb3V0ZXIyIiwiX3JvdXRlczIiLCJjb250ZW50IiwicXVlcnlTZWxlY3RvciIsIl9nYW1lU3RhdGUyIiwicm91dGVzIiwibWF0Y2giLCJvbkVudGVyIiwiY2hhbmdlQWN0aXZlUGFnZSIsInNldFVwR2FtZSIsIm9uTGVhdmUiLCJnZXRTY29yZXMiLCJ0aGVuIiwicmVzdWx0Iiwib2wiLCJpdGVtIiwibGkiLCJkaXZGb3JEaXZpc2lvbiIsImRpdiIsInJlcGxheUdhbWUiLCJuZXdQYWdlIiwiY2xhc3NOYW1lIiwicGFyZW50RWxlbWVudCIsIl9kZXRlY3RNb2JpbGUyIiwiYnV0dG9uTGVmdCIsImJ1dHRvblVwIiwiYnV0dG9uUmlnaHQiLCJidXR0b25Eb3duIiwidGFyZ2V0IiwibWF0Y2hlcyIsIkV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsIl9lIiwiX2UyIiwiX2UzIiwiX2RldGVjdE1vYmlsZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInVybCIsIkZpcmVTdG9yZSIsImZldGNoIiwicmVzcG9uc2UiLCJqc29uIiwiaW5mb1RvU2F2ZSIsInNjb3JlcyIsIm5ld1Njb3JlcyIsImNvbmNhdCIsIl90b0NvbnN1bWFibGVBcnJheSIsInNvcnQiLCJpdGVtMSIsIml0ZW0yIiwic3BsaWNlIiwibWV0aG9kIiwiSlNPTiIsInN0cmluZ2lmeSIsIlJvdXRlciIsInJvdXRlUGFyYW1zIiwiY3VycmVudFJvdXRlIiwicHJldmlvdXNSb3V0ZSIsImN1cnJlbnRQYXJhbXMiLCJwcmV2aW91c1BhcmFtcyIsImhhbmRsZXIiLCJmaW5kTmV3Um91dGUiLCJsYXVuY2hIYW5kbGVycyIsImVsZW1lbnQiLCJSZWdFeHAiLCJ0ZXN0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJvbkJlZm9yZUVudGVyIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQUEsSUFBQUosRUFBQUcsR0FBQSxDQUFBLElBQUFKLEVBQUFJLEdBQUEsQ0FBQSxJQUFBRSxFQUFBLG1CQUFBQyxTQUFBQSxRQUFBLElBQUFGLEdBQUFDLEVBQUEsT0FBQUEsRUFBQUYsR0FBQSxHQUFBLEdBQUFJLEVBQUEsT0FBQUEsRUFBQUosR0FBQSxHQUFBLElBQUFLLEVBQUEsSUFBQUMsTUFBQSx1QkFBQU4sRUFBQSxLQUFBLE1BQUFLLEVBQUFFLEtBQUEsbUJBQUFGLEVBQUEsSUFBQUcsRUFBQVgsRUFBQUcsR0FBQSxDQUFBUyxRQUFBLElBQUFiLEVBQUFJLEdBQUEsR0FBQVUsS0FBQUYsRUFBQUMsUUFBQSxTQUFBZCxHQUFBLE9BQUFJLEVBQUFILEVBQUFJLEdBQUEsR0FBQUwsSUFBQUEsSUFBQWEsRUFBQUEsRUFBQUMsUUFBQWQsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxPQUFBRCxFQUFBRyxHQUFBUyxRQUFBLElBQUEsSUFBQUwsRUFBQSxtQkFBQUQsU0FBQUEsUUFBQUgsRUFBQSxFQUFBQSxFQUFBRixFQUFBYSxPQUFBWCxJQUFBRCxFQUFB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QXNDMEQsRUFBQTFELFFBQTFDaEQsRUFFSSxPQURBekcsS0FBQThNLGNBQUEsR0FDQUssRUFFSixHQUFJLG1CQUFRQSxFQUFSMUQsT0FBd0MwRCxFQUFBMUQsTUFBNUNoRCxHQUVJLE9BREF6RyxLQUFBOE0sY0FBQSxHQUNBSyxFQUVKLEdBQUtBLEVBQUExRCxpQkFBRDJELFFBQXFDRCxFQUFBMUQsTUFBQTRELEtBQXpDNUcsR0FHSSxPQUZBekcsS0FBQThNLGNBQXFCckcsRUFBQWdELE1BQVcwRCxFQUFYMUQsUUFBckIsR0FDQXpKLEtBQUE4TSxjQUFBUixPQUFBLEVBQUEsR0FDQWEsSUF2QkdELGVBQUEsV0EyQkUsSUFBQXRKLEVBQUE1RCxLQUNic04sUUFBQUMsVUFBQXhELEtBQ1UsV0FBUW5HLEVBQUFpSixlQUFzQmpKLEVBQUFpSixjQUF0QmhELFNBQW9EakcsRUFBQWlKLGNBQUFoRCxRQUEyQmpHLEVBQS9FbUosa0JBRGxCaEQsS0FFVSxXQUFRbkcsRUFBQWdKLGNBQXFCaEosRUFBQWdKLGFBQXJCWSxlQUF3RDVKLEVBQUFnSixhQUFBWSxjQUFnQzVKLEVBQXhGa0osaUJBRmxCL0MsS0FHVSxXQUFRbkcsRUFBQWdKLGNBQXFCaEosRUFBQWdKLGFBQXJCbEQsU0FBa0Q5RixFQUFBZ0osYUFBQWxELFFBQTBCOUYsRUFBNUVrSiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IFBlcnNvbiBmcm9tICcuL3BlcnNvbic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEdW1teUVuZW15IGV4dGVuZHMgUGVyc29uIHtcclxuICAgIGNvbnN0cnVjdG9yKGdhbWVTdGF0ZSkge1xyXG4gICAgICAgIHN1cGVyKGdhbWVTdGF0ZSwgJ2dvYmxpbicpO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSAzNjtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IDQ4O1xyXG5cclxuICAgICAgICB0aGlzLmdlbmVyYXRlUG9zaXRpb24oKTtcclxuXHJcblxyXG4gICAgfVxyXG4gICAgc3RlcCgpIHtcclxuICAgICAgICBzdXBlci5zdGVwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVQb3NpdGlvbigpIHtcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICB4OiBNYXRoLmFicyh0aGlzLndpZHRoIC0gdGhpcy5nYW1lLndpZHRoICogTWF0aC5yYW5kb20oKSksXHJcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmdhbWUuaGVpZ2h0IC8gMiAqIE1hdGgucmFuZG9tKClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IHdoaWxlICh0aGlzLmdldERpc3RhbmNlVG9IZXJvKCkgPCAyMDApO1xyXG4gICAgfVxyXG4gICAgZ2V0RGlzdGFuY2VUb0hlcm8oKSB7XHJcbiAgICAgICAgbGV0IGhlcm8gPSB0aGlzLmdhbWUuaGVybztcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGhlcm8ucG9zaXRpb24ueCAtIHRoaXMucG9zaXRpb24ueCwgMikgKyBNYXRoLnBvdyhoZXJvLnBvc2l0aW9uLnkgLSB0aGlzLnBvc2l0aW9uLnksIDIpKTtcclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGcnVpdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihnYW1lU3RhdGUpIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gMjA7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAyMDtcclxuICAgICAgICB0aGlzLmdhbWUgPSBnYW1lU3RhdGU7XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVBvc2l0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLmdlbmVyYXRlU3B0aXRlKCk7XHJcbiAgICB9XHJcbiAgICBnZXROZXh0U3ByaXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNwcml0ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGVyc29uU3RhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogdGhpcy5wb3NpdGlvbi54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLnBvc2l0aW9uLnksXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcGVyc29uU3RhdGUobmV3UG9zaXRpb24pIHtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSBuZXdQb3NpdGlvbi54O1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IG5ld1Bvc2l0aW9uLnk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVQb3NpdGlvbigpIHtcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICB4OiBNYXRoLmFicyh0aGlzLndpZHRoIC0gdGhpcy5nYW1lLndpZHRoICogTWF0aC5yYW5kb20oKSksXHJcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmdhbWUuaGVpZ2h0IC8gMiAqIE1hdGgucmFuZG9tKClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IHdoaWxlICh0aGlzLmdldERpc3RhbmNlVG9IZXJvKCkgPCAyMDApO1xyXG4gICAgfVxyXG4gICAgZ2V0RGlzdGFuY2VUb0hlcm8oKSB7XHJcbiAgICAgICAgbGV0IGhlcm8gPSB0aGlzLmdhbWUuaGVybztcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGhlcm8ucG9zaXRpb24ueCAtIHRoaXMucG9zaXRpb24ueCwgMikgKyBNYXRoLnBvdyhoZXJvLnBvc2l0aW9uLnkgLSB0aGlzLnBvc2l0aW9uLnksIDIpKTtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlU3B0aXRlKCkge1xyXG4gICAgICAgIGxldCBzcHJpdGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZydWl0LWltZycpO1xyXG4gICAgICAgIGxldCBmcnVpdE51bWJlciA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChzcHJpdGVzLmxlbmd0aCAtIDEpKTtcclxuICAgICAgICByZXR1cm4gc3ByaXRlc1tmcnVpdE51bWJlcl07XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgSGVybyBmcm9tICcuL2hlcm8nO1xyXG5pbXBvcnQgRHVtbXlFbmVteSBmcm9tICcuL2R1bW15RW5lbXknO1xyXG5pbXBvcnQgU21hcnRFbmVteSBmcm9tICcuL3NtYXJ0RW5lbXknO1xyXG5pbXBvcnQgRmlyZVN0b3JlIGZyb20gJy4uL3V0aWxzL2ZpcmViYXNlJztcclxuaW1wb3J0IEZydWl0IGZyb20gJy4vZnJ1aXQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVN0YXRlIHtcclxuXHRjb25zdHJ1Y3RvcihlbGVtZW50VG9EcmF3KSB7XHJcblx0XHR0aGlzLmdhbWVPblNjcmVlbiA9IGZhbHNlO1xyXG5cdFx0dGhpcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoID49IDEwMDAgPyAxMDAwIDogd2luZG93LmlubmVyV2lkdGg7XHJcblxyXG5cdFx0dGhpcy5oZWlnaHQgPSAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxyXG5cdFx0XHR8fCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkgLSAxNjA7XHJcblxyXG5cdFx0dGhpcy5jb250YWludGVyID0gZWxlbWVudFRvRHJhdztcclxuXHRcdHRoaXMuc2V0VXBIZXJvKCk7XHJcblx0fVxyXG5cclxuXHRzZXRVcEdhbWUoKSB7XHJcblx0XHR0aGlzLnNldFVwQ2FudmFzKCk7XHJcblxyXG5cdFx0dGhpcy5oZXJvID0gbmV3IEhlcm8odGhpcyk7XHJcblxyXG5cdFx0dGhpcy5yZXBsYXlEYXRhID0gW107XHJcblx0XHR0aGlzLmNoYXJhY3RlcnMgPSBuZXcgQXJyYXkoMikuZmlsbCgwKS5tYXAoKCkgPT4gbmV3IER1bW15RW5lbXkodGhpcykpO1xyXG5cdFx0dGhpcy5jaGFyYWN0ZXJzLnB1c2gobmV3IFNtYXJ0RW5lbXkodGhpcykpO1xyXG5cdFx0dGhpcy5mcnVpdHMgPSBbXTtcclxuXHJcblx0XHR0aGlzLmxldmVsID0gMTtcclxuXHRcdHRoaXMuYmFzZVNwZWVkID0gMDtcclxuXHRcdHRoaXMuZ2FtZVBsYXlzID0gZmFsc2U7XHJcblx0XHR0aGlzLmdhbWVUaW1lciA9IDA7XHJcblxyXG5cdFx0dGhpcy50aW1lckhhbmRsZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmdhbWVTdGVwKCksIDEwMCk7XHJcblx0fVxyXG5cclxuXHRnYW1lU3RlcCgpIHtcclxuXHRcdHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG5cclxuXHRcdGxldCBzdGVwRGF0YSA9IFtdO1xyXG5cdFx0dGhpcy5kcmF3Q2hhcmFjdGVyKHRoaXMuaGVybyk7XHJcblxyXG5cdFx0dGhpcy5jaGFyYWN0ZXJzLmZvckVhY2goY2hhcmFjdGVyID0+IHtcclxuXHRcdFx0dGhpcy5kcmF3Q2hhcmFjdGVyKGNoYXJhY3Rlcik7XHJcblx0XHRcdHN0ZXBEYXRhLnB1c2goe1xyXG5cdFx0XHRcdGNoYXJhY3RlcjogY2hhcmFjdGVyLFxyXG5cdFx0XHRcdHN0YXRlOiBjaGFyYWN0ZXIucGVyc29uU3RhdGVcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblxyXG5cdFx0aWYgKHRoaXMuaGVyby5yYWdlTW9kZSkge1xyXG5cdFx0XHR0aGlzLmNoYXJhY3RlcnMgPSB0aGlzLmNoYXJhY3RlcnMuZmlsdGVyKGNoYXJhY3RlciA9PiAhdGhpcy5jaGVja0NoYXJhY3RlcnNJbnRlcnNlY3Rpb24odGhpcy5oZXJvLCBjaGFyYWN0ZXIpKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmICh0aGlzLmNoYXJhY3RlcnMuc29tZShjaGFyYWN0ZXIgPT4gdGhpcy5jaGVja0NoYXJhY3RlcnNJbnRlcnNlY3Rpb24odGhpcy5oZXJvLCBjaGFyYWN0ZXIpKSkge1xyXG5cdFx0XHRcdHRoaXMubG9zZUdhbWUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZnJ1aXRzLmZvckVhY2goZnJ1aXQgPT4ge1xyXG5cdFx0XHR0aGlzLmRyYXdDaGFyYWN0ZXIoZnJ1aXQpO1xyXG5cdFx0XHRzdGVwRGF0YS5wdXNoKHtcclxuXHRcdFx0XHRjaGFyYWN0ZXI6IGZydWl0LFxyXG5cdFx0XHRcdHN0YXRlOiBmcnVpdC5wZXJzb25TdGF0ZVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdFx0dGhpcy5mcnVpdHMgPSB0aGlzLmZydWl0cy5maWx0ZXIoZnJ1aXQgPT4ge1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gdGhpcy5jaGVja0NoYXJhY3RlcnNJbnRlcnNlY3Rpb24odGhpcy5oZXJvLCBmcnVpdCk7XHJcblx0XHRcdGlmIChyZXN1bHQpIHtcclxuXHRcdFx0XHR0aGlzLmhlcm8uZW5hYmxlUmFnZSgpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0pO1xyXG5cclxuXHJcblx0XHRzdGVwRGF0YS5wdXNoKHtcclxuXHRcdFx0Y2hhcmFjdGVyOiB0aGlzLmhlcm8sXHJcblx0XHRcdHN0YXRlOiB0aGlzLmhlcm8ucGVyc29uU3RhdGVcclxuXHRcdH0pO1xyXG5cclxuXHJcblx0XHR0aGlzLmdhbWVQbGF5cyAmJiB0aGlzLnJlcGxheURhdGEucHVzaChzdGVwRGF0YSk7XHJcblx0fVxyXG5cclxuXHRkcmF3Q2hhcmFjdGVyKGNoYXJhY3Rlcikge1xyXG5cdFx0dGhpcy5jb250ZXh0LmRyYXdJbWFnZShjaGFyYWN0ZXIuZ2V0TmV4dFNwcml0ZSgpLCBjaGFyYWN0ZXIucG9zaXRpb24ueCwgY2hhcmFjdGVyLnBvc2l0aW9uLnksIGNoYXJhY3Rlci53aWR0aCwgY2hhcmFjdGVyLmhlaWdodCk7XHJcblx0fVxyXG5cclxuXHRjaGVja0NoYXJhY3RlcnNJbnRlcnNlY3Rpb24oaGVybywgZW5lbXkpIHtcclxuXHRcdGxldCBkZWx0YVggPSAyMDtcclxuXHRcdGxldCBkZWx0YVkgPSAyMDtcclxuXHRcdGlmICgoKGhlcm8ucG9zaXRpb24ueCArIGRlbHRhWCA8PSAoZW5lbXkucG9zaXRpb24ueCArIGVuZW15LndpZHRoKSkgJiYgKChoZXJvLnBvc2l0aW9uLnggKyBoZXJvLndpZHRoKSA+PSBlbmVteS5wb3NpdGlvbi54ICsgZGVsdGFYKSkgJiZcclxuXHRcdFx0KChoZXJvLnBvc2l0aW9uLnkgKyBkZWx0YVkgPD0gKGVuZW15LnBvc2l0aW9uLnkgKyBlbmVteS5oZWlnaHQpKSAmJiAoKGhlcm8ucG9zaXRpb24ueSArIGhlcm8uaGVpZ2h0KSA+PSBlbmVteS5wb3NpdGlvbi55ICsgZGVsdGFZKSkpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRydW5HYW1lKCkge1xyXG5cdFx0dGhpcy5nYW1lVGltZXIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHRcdHRoaXMuZ2FtZVBsYXlzID0gdHJ1ZTtcclxuXHRcdHRoaXMuYmFzZVNwZWVkID0gNTtcclxuXHRcdHRoaXMuc2V0TGV2ZWwoKTtcclxuXHR9XHJcblxyXG5cdGxvc2VHYW1lKCkge1xyXG5cdFx0dGhpcy5lbmRHYW1lKCk7XHJcblx0XHRsZXQgc2NvcmUgPSAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLmdhbWVUaW1lcikgLyAxMDAwO1xyXG5cdFx0bGV0IG5hbWUgPSBwcm9tcHQoYFlvdXIgc2NvcmUgaXMgJHtzY29yZX0gc2Vjb25kcy5cXG4gRW50ZXIgeW91ciBuYW1lYCwgJ0JhdG1hbicpO1xyXG5cdFx0bmFtZSAmJiBGaXJlU3RvcmUuc2F2ZVNjb3JlKHtcclxuXHRcdFx0bmFtZSwgc2NvcmVcclxuXHRcdH0pO1xyXG5cdFx0dGhpcy5hZGRFbmRHYW1lQnV0dG9ucygpO1xyXG5cdH1cclxuXHJcblx0ZW5kR2FtZSgpIHtcclxuXHRcdGNsZWFySW50ZXJ2YWwodGhpcy50aW1lckhhbmRsZXIpO1xyXG5cdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLmxldmVsVGltZXIpO1xyXG5cdFx0dGhpcy5nYW1lUGxheXMgPSBmYWxzZTtcclxuXHRcdHRoaXMuYmFzZVNwZWVkID0gMDtcclxuXHRcdHRoaXMuZ2FtZU9uU2NyZWVuID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRzZXRMZXZlbCgpIHtcclxuXHRcdHRoaXMubGV2ZWxUaW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuXHRcdFx0dGhpcy5sZXZlbCArPSAxO1xyXG5cclxuXHRcdFx0dGhpcy5jaGFyYWN0ZXJzLnB1c2gobmV3IER1bW15RW5lbXkodGhpcykpO1xyXG5cdFx0XHRpZiAodGhpcy5sZXZlbCAlIDIgPT09IDEpIHtcclxuXHRcdFx0XHR0aGlzLmNoYXJhY3RlcnMucHVzaChuZXcgU21hcnRFbmVteSh0aGlzKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMubGV2ZWwgPj0gNCkge1xyXG5cdFx0XHRcdHRoaXMuZnJ1aXRzLnB1c2gobmV3IEZydWl0KHRoaXMpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRsZXQgbWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRtZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2xldmVsLXVwJyk7XHJcblx0XHRcdG1lc3NhZ2UuaW5uZXJIVE1MID0gYExldmVsIFVwISBDdXJyZW50IGxldmVsIC0gJHt0aGlzLmxldmVsfWA7XHJcblxyXG5cdFx0XHR0aGlzLmNvbnRhaW50ZXIuYXBwZW5kQ2hpbGQobWVzc2FnZSk7XHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuY29udGFpbnRlci5yZW1vdmVDaGlsZChtZXNzYWdlKTtcclxuXHRcdFx0fSwgMTAwMCk7XHJcblx0XHR9LCAxMDAwMCk7XHJcblx0fVxyXG5cclxuXHRhZGRFbmRHYW1lQnV0dG9ucygpIHtcclxuXHRcdGxldCBkaXZGb3JCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRkaXZGb3JCdXR0b25zLmNsYXNzTGlzdC5hZGQoJ2VuZC1idXR0b25zJyk7XHJcblxyXG5cdFx0bGV0IHJlcGxheUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG5cdFx0cmVwbGF5QnV0dG9uLmlubmVySFRNTCA9ICdXYXRjaCByZXBsYXknO1xyXG5cdFx0cmVwbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaGFzaCA9ICd3YXRjaHJlcGxheSc7XHJcblx0XHR9KTtcclxuXHJcblx0XHRsZXQgc3RhcnROZXdHYW1lQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblx0XHRzdGFydE5ld0dhbWVCdXR0b24uaW5uZXJIVE1MID0gJ1N0YXJ0IG5ldyBnYW1lJztcclxuXHRcdHN0YXJ0TmV3R2FtZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0d2luZG93LmxvY2F0aW9uLmhhc2ggPSAnbmV3Z2FtZSc7XHJcblx0XHR9KTtcclxuXHJcblx0XHRkaXZGb3JCdXR0b25zLmFwcGVuZENoaWxkKHJlcGxheUJ1dHRvbik7XHJcblx0XHRkaXZGb3JCdXR0b25zLmFwcGVuZENoaWxkKHN0YXJ0TmV3R2FtZUJ1dHRvbik7XHJcblxyXG5cdFx0dGhpcy5jb250YWludGVyLmFwcGVuZENoaWxkKGRpdkZvckJ1dHRvbnMpO1xyXG5cdH1cclxuXHRzZXRVcEhlcm8oKSB7XHJcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XHJcblx0XHRcdGlmICh0aGlzLmdhbWVPblNjcmVlbikge1xyXG5cdFx0XHRcdHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xyXG5cdFx0XHRcdFx0Y2FzZSAzNzoge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmhlcm8uZGlyZWN0aW9uQW5nbGUgPSBNYXRoLlBJO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGNhc2UgMzg6IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5oZXJvLmRpcmVjdGlvbkFuZ2xlID0gTWF0aC5QSSAvIDI7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Y2FzZSAzOToge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmhlcm8uZGlyZWN0aW9uQW5nbGUgPSAwO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGNhc2UgNDA6IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5oZXJvLmRpcmVjdGlvbkFuZ2xlID0gTWF0aC5QSSAvIDIgKiAzO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGRlZmF1bHQ6IHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoIXRoaXMuZ2FtZVBsYXlzKSB7XHJcblx0XHRcdFx0XHR0aGlzLnJ1bkdhbWUoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0c2V0VXBDYW52YXMoKSB7XHJcblx0XHR0aGlzLmdhbWVPblNjcmVlbiA9IHRydWU7XHJcblx0XHR0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG5cdFx0dGhpcy5jb250YWludGVyLmlubmVySFRNTCA9ICcnO1xyXG5cdFx0dGhpcy5jb250YWludGVyLmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtcclxuXHRcdHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy53aWR0aDtcclxuXHRcdHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xyXG5cdFx0dGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHR9XHJcblxyXG5cdHJlcGxheUdhbWUoKSB7XHJcblx0XHRjbGVhckludGVydmFsKHRoaXMucmVwbGF5VGltZXIpO1xyXG5cdFx0bGV0IGN1cnJlbnRTdGF0ZSA9IDA7XHJcblx0XHR0aGlzLnJlcGxheVRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG5cdFx0XHRpZiAoY3VycmVudFN0YXRlID49ICh0aGlzLnJlcGxheURhdGEgfHwgW10pLmxlbmd0aCkge1xyXG5cdFx0XHRcdGNsZWFySW50ZXJ2YWwodGhpcy5yZXBsYXlUaW1lcik7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG5cclxuXHRcdFx0bGV0IHN0YXRlID0gdGhpcy5yZXBsYXlEYXRhW2N1cnJlbnRTdGF0ZV07XHJcblx0XHRcdHN0YXRlLmZvckVhY2goZGF0YSA9PiB7XHJcblx0XHRcdFx0ZGF0YS5jaGFyYWN0ZXIucGVyc29uU3RhdGUgPSBkYXRhLnN0YXRlO1xyXG5cdFx0XHRcdHRoaXMuZHJhd0NoYXJhY3RlcihkYXRhLmNoYXJhY3Rlcik7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRjdXJyZW50U3RhdGUrKztcclxuXHRcdH0sIDIwKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IFBlcnNvbiBmcm9tICcuL3BlcnNvbic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIZXJvIGV4dGVuZHMgUGVyc29uIHtcclxuICAgIGNvbnN0cnVjdG9yKGdhbWVTdGF0ZSkge1xyXG4gICAgICAgIHN1cGVyKGdhbWVTdGF0ZSwgJ2tuaWdodCcpO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSA1NTtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IDc1O1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgIHg6ICh0aGlzLmdhbWUud2lkdGggLSB0aGlzLndpZHRoKSAvIDIsXHJcbiAgICAgICAgICAgIHk6IHRoaXMuZ2FtZS5oZWlnaHQgLSB0aGlzLmhlaWdodFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5yYWdlTW9kZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlcyA9IHRoaXMuc3ByaXRlc0NvbGxlY3Rpb24uZG93bjtcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbkFuZ2xlID0gTWF0aC5QSSAvIDI7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldFNwZWVkKCkge1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSB0aGlzLmdhbWUuYmFzZVNwZWVkICogdGhpcy5nYW1lLmxldmVsO1xyXG4gICAgfVxyXG4gICAgZW5hYmxlUmFnZSgpIHtcclxuICAgICAgICB0aGlzLnNwcml0ZXNDb2xsZWN0aW9uID0gdGhpcy5mdXJ5U3ByaXRlc0NvbGxlY3Rpb247XHJcbiAgICAgICAgdGhpcy5zZWxlY3RTcHJpdGVzKCk7XHJcbiAgICAgICAgdGhpcy5yYWdlTW9kZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IDc1O1xyXG4gICAgICAgIHRoaXMuZ2FtZS5jYW52YXMuY2xhc3NMaXN0LmFkZCgncmFnZS1jYW52YXMnKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGVzQ29sbGVjdGlvbiA9IHRoaXMubm9ybWFsU3ByaXRlc0NvbGxldGNpb247XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0U3ByaXRlcygpO1xyXG4gICAgICAgICAgICB0aGlzLnJhZ2VNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSA1NTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLmNhbnZhcy5jbGFzc0xpc3QucmVtb3ZlKCdyYWdlLWNhbnZhcycpO1xyXG4gICAgICAgIH0sIDMwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBwZXJzb25TdGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiB0aGlzLnBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHk6IHRoaXMucG9zaXRpb24ueSxcclxuICAgICAgICAgICAgZGlyZWN0aW9uQW5nbGU6IHRoaXMuZGlyZWN0aW9uQW5nbGUsXHJcbiAgICAgICAgICAgIHJhZ2VNb2RlOiB0aGlzLnJhZ2VNb2RlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcGVyc29uU3RhdGUobmV3UG9zaXRpb24pIHtcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbkFuZ2xlID0gbmV3UG9zaXRpb24uZGlyZWN0aW9uQW5nbGU7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gbmV3UG9zaXRpb24ueDtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSBuZXdQb3NpdGlvbi55O1xyXG4gICAgICAgIGlmICh0aGlzLnJhZ2VNb2RlICE9PSBuZXdQb3NpdGlvbi5yYWdlTW9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLnJhZ2VNb2RlID0gbmV3UG9zaXRpb24ucmFnZU1vZGU7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlc0NvbGxlY3Rpb24gPSB0aGlzLnJhZ2VNb2RlID8gdGhpcy5mdXJ5U3ByaXRlc0NvbGxlY3Rpb24gOiB0aGlzLm5vcm1hbFNwcml0ZXNDb2xsZXRjaW9uO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdFNwcml0ZXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QWxsU3ByaXRlcygpIHtcclxuICAgICAgICBzdXBlci5nZXRBbGxTcHJpdGVzKCk7XHJcbiAgICAgICAgdGhpcy5ub3JtYWxTcHJpdGVzQ29sbGV0Y2lvbiA9IHRoaXMuc3ByaXRlc0NvbGxlY3Rpb247XHJcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gJ2tuaWdodC1raWxscyc7XHJcbiAgICAgICAgdGhpcy5mdXJ5U3ByaXRlc0NvbGxlY3Rpb24gPSB7XHJcbiAgICAgICAgICAgIGxlZnQ6IHRoaXMuZ2V0U3ByaXRlcyhgLiR7c2VsZWN0b3J9LWxlZnQtaW1nYCksXHJcbiAgICAgICAgICAgIHJpZ2h0OiB0aGlzLmdldFNwcml0ZXMoYC4ke3NlbGVjdG9yfS1yaWdodC1pbWdgKSxcclxuICAgICAgICAgICAgdXA6IHRoaXMuZ2V0U3ByaXRlcyhgLiR7c2VsZWN0b3J9LXVwLWltZ2ApLFxyXG4gICAgICAgICAgICBkb3duOiB0aGlzLmdldFNwcml0ZXMoYC4ke3NlbGVjdG9yfS1kb3duLWltZ2ApXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBlcnNvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihnYW1lU3RhdGUsIHNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuZ2V0QWxsU3ByaXRlcygpO1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWVTdGF0ZTtcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbkFuZ2xlID0gMiAqIE1hdGguUEkgKiBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSBnYW1lU3RhdGUubGV2ZWwgKiBnYW1lU3RhdGUuYmFzZVNwZWVkIC8gMjtcclxuICAgICAgICB0aGlzLmN1cnJlbnRJbWcgPSAwO1xyXG4gICAgfVxyXG4gICAgc2VsZWN0U3ByaXRlcygpIHtcclxuICAgICAgICBpZiAoKHRoaXMuZGlyZWN0aW9uQW5nbGUgPj0gTWF0aC5QSSAqIDUgLyA0KSAmJiAodGhpcy5kaXJlY3Rpb25BbmdsZSA8PSBNYXRoLlBJICogNyAvIDQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlcyA9IHRoaXMuc3ByaXRlc0NvbGxlY3Rpb24uZG93bjtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHRoaXMuZGlyZWN0aW9uQW5nbGUgPj0gTWF0aC5QSSAvIDQpICYmICh0aGlzLmRpcmVjdGlvbkFuZ2xlIDw9IE1hdGguUEkgKiAzIC8gNCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGVzID0gdGhpcy5zcHJpdGVzQ29sbGVjdGlvbi51cDtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHRoaXMuZGlyZWN0aW9uQW5nbGUgPj0gTWF0aC5QSSAqIDMgLyA0KSAmJiAodGhpcy5kaXJlY3Rpb25BbmdsZSA8PSBNYXRoLlBJICogNSAvIDQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlcyA9IHRoaXMuc3ByaXRlc0NvbGxlY3Rpb24ubGVmdDtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNwcml0ZXMgPSB0aGlzLnNwcml0ZXNDb2xsZWN0aW9uLnJpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkaXJlY3Rpb25BbmdsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGlyZWN0aW9uQW5nbGU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGRpcmVjdGlvbkFuZ2xlKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uQW5nbGUgPSBuZXdWYWx1ZTtcclxuICAgICAgICB0aGlzLnNlbGVjdFNwcml0ZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGVyc29uU3RhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogdGhpcy5wb3NpdGlvbi54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLnBvc2l0aW9uLnksXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbkFuZ2xlOiB0aGlzLmRpcmVjdGlvbkFuZ2xlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcGVyc29uU3RhdGUobmV3UG9zaXRpb24pIHtcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbkFuZ2xlID0gbmV3UG9zaXRpb24uZGlyZWN0aW9uQW5nbGU7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gbmV3UG9zaXRpb24ueDtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSBuZXdQb3NpdGlvbi55O1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFsbFNwcml0ZXMoKSB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGVzQ29sbGVjdGlvbiA9IHtcclxuICAgICAgICAgICAgbGVmdDogdGhpcy5nZXRTcHJpdGVzKGAuJHt0aGlzLnNlbGVjdG9yfS1sZWZ0LWltZ2ApLFxyXG4gICAgICAgICAgICByaWdodDogdGhpcy5nZXRTcHJpdGVzKGAuJHt0aGlzLnNlbGVjdG9yfS1yaWdodC1pbWdgKSxcclxuICAgICAgICAgICAgdXA6IHRoaXMuZ2V0U3ByaXRlcyhgLiR7dGhpcy5zZWxlY3Rvcn0tdXAtaW1nYCksXHJcbiAgICAgICAgICAgIGRvd246IHRoaXMuZ2V0U3ByaXRlcyhgLiR7dGhpcy5zZWxlY3Rvcn0tZG93bi1pbWdgKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3ByaXRlcyhzZWxlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcclxuICAgIH1cclxuICAgIGdldE5leHRTcHJpdGUoKSB7XHJcbiAgICAgICAgdGhpcy5zdGVwKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEltZyA+PSB0aGlzLnNwcml0ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEltZyA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnNwcml0ZXNbdGhpcy5jdXJyZW50SW1nKytdO1xyXG4gICAgfVxyXG5cclxuICAgIHN0ZXAoKSB7XHJcbiAgICAgICAgdGhpcy5nZXRTcGVlZCgpO1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24ueCArPSBNYXRoLmNvcyh0aGlzLmRpcmVjdGlvbkFuZ2xlKSAqIHRoaXMuc3BlZWQ7XHJcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24ueCArIHRoaXMud2lkdGggLyAyID4gdGhpcy5nYW1lLndpZHRoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueCA9IC10aGlzLndpZHRoIC8gMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24ueCArIHRoaXMud2lkdGggLyAyIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB0aGlzLmdhbWUud2lkdGggLSB0aGlzLndpZHRoIC8gMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55IC09IE1hdGguc2luKHRoaXMuZGlyZWN0aW9uQW5nbGUpICogdGhpcy5zcGVlZDtcclxuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbi55ICsgdGhpcy5oZWlnaHQgLyAyID4gdGhpcy5nYW1lLmhlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSAtdGhpcy5oZWlnaHQgLyAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbi55ICsgdGhpcy5oZWlnaHQgLyAyIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB0aGlzLmdhbWUuaGVpZ2h0IC0gdGhpcy5oZWlnaHQgLyAyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldFNwZWVkKCkge1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSB0aGlzLmdhbWUuYmFzZVNwZWVkICogdGhpcy5nYW1lLmxldmVsIC8gMjtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGVyc29uIGZyb20gJy4vcGVyc29uJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNtYXJ0RW5lbXkgZXh0ZW5kcyBQZXJzb24ge1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZVN0YXRlKSB7XHJcbiAgICAgICAgc3VwZXIoZ2FtZVN0YXRlLCAncm9ndWUnKTtcclxuICAgICAgICB0aGlzLnJhbmdlID0gMzAwO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSA0MDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IDQ1O1xyXG5cclxuICAgICAgICB0aGlzLmdlbmVyYXRlUG9zaXRpb24oKTtcclxuXHJcblxyXG4gICAgfVxyXG4gICAgc3RlcCgpIHtcclxuICAgICAgICBsZXQgaGVyb1Bvc2l0aW9uID0gdGhpcy5nYW1lLmhlcm8ucG9zaXRpb247XHJcbiAgICAgICAgbGV0IGVuZW15UG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uO1xyXG4gICAgICAgIGlmICh0aGlzLmdldERpc3RhbmNlVG9IZXJvKCkgPD0gdGhpcy5yYW5nZSAmJiAoaGVyb1Bvc2l0aW9uLnggIT09IGVuZW15UG9zaXRpb24ueCkpIHtcclxuICAgICAgICAgICAgbGV0IGF0YW4gPSBNYXRoLmF0YW4oKGhlcm9Qb3NpdGlvbi55IC0gZW5lbXlQb3NpdGlvbi55KSAvIChoZXJvUG9zaXRpb24ueCAtIGVuZW15UG9zaXRpb24ueCkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCgoaGVyb1Bvc2l0aW9uLnggPiBlbmVteVBvc2l0aW9uLngpICYmIChoZXJvUG9zaXRpb24ueSA8IGVuZW15UG9zaXRpb24ueSkpIHx8XHJcbiAgICAgICAgICAgICAgICAoKGhlcm9Qb3NpdGlvbi54ID4gZW5lbXlQb3NpdGlvbi54KSAmJiAoaGVyb1Bvc2l0aW9uLnkgPiBlbmVteVBvc2l0aW9uLnkpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb25BbmdsZSA9IDIgKiBNYXRoLlBJIC0gYXRhbjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uQW5nbGUgPSBNYXRoLlBJIC0gYXRhbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5zdGVwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVQb3NpdGlvbigpIHtcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICB4OiBNYXRoLmFicyh0aGlzLndpZHRoIC0gdGhpcy5nYW1lLndpZHRoICogTWF0aC5yYW5kb20oKSksXHJcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmdhbWUuaGVpZ2h0IC8gMiAqIE1hdGgucmFuZG9tKClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IHdoaWxlICh0aGlzLmdldERpc3RhbmNlVG9IZXJvKCkgPCAyMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERpc3RhbmNlVG9IZXJvKCkge1xyXG4gICAgICAgIGxldCBoZXJvID0gdGhpcy5nYW1lLmhlcm87XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhoZXJvLnBvc2l0aW9uLnggLSB0aGlzLnBvc2l0aW9uLngsIDIpICsgTWF0aC5wb3coaGVyby5wb3NpdGlvbi55IC0gdGhpcy5wb3NpdGlvbi55LCAyKSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUm91dGVyIGZyb20gJy4vdXRpbHMvcm91dGVyJztcclxuaW1wb3J0IHJvdXRlcyBmcm9tICcuL3JvdXRlcyc7XHJcbmltcG9ydCBhZGRCdXR0b25zRm9yTW9iaWxlIGZyb20gJy4vdXRpbHMvYWRkQnV0dG9uc0Zvck1vYmlsZSc7XHJcblxyXG5hZGRCdXR0b25zRm9yTW9iaWxlKCk7XHJcbm5ldyBSb3V0ZXIocm91dGVzKTsiLCJpbXBvcnQgR2FtZVN0YXRlIGZyb20gJy4vZ2FtZU9iamVjdHMvZ2FtZVN0YXRlJztcclxuaW1wb3J0IEZpcmVTdG9yZSBmcm9tICcuL3V0aWxzL2ZpcmViYXNlJztcclxuXHJcbmxldCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcclxubGV0IGdhbWUgPSBuZXcgR2FtZVN0YXRlKGNvbnRlbnQpO1xyXG5cclxuY29uc3Qgcm91dGVzID0gW1xyXG4gICAge1xyXG4gICAgICAgIG1hdGNoOiAnJyxcclxuICAgICAgICBvbkVudGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJ2dhbWUnO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbWF0Y2g6ICdhYm91dCcsXHJcbiAgICAgICAgb25FbnRlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICBjaGFuZ2VBY3RpdmVQYWdlKCdhYm91dCcpO1xyXG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCA9ICc8aDE+PHNwYW4+U3VwZXIgYXJjYWRlIGdhbWU8L3NwYW4+PC9oMT48ZGl2IGNsYXNzPVwidy0xMDBcIi8+PGRpdj48aDI+QXV0aG9yIDxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vY2l0cmluaW5cIj5LYXRlIEt1emtpbmE8L2E+PC9oMj48L2Rpdj4nO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbWF0Y2g6ICdnYW1lJyxcclxuICAgICAgICBvbkVudGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNoYW5nZUFjdGl2ZVBhZ2UoJ2dhbWUnKTtcclxuICAgICAgICAgICAgZ2FtZS5zZXRVcEdhbWUoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uTGVhdmU6ICgpID0+IHtcclxuICAgICAgICAgICAgZ2FtZS5lbmRHYW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBtYXRjaDogJ3Njb3JlcycsXHJcbiAgICAgICAgb25FbnRlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICBjaGFuZ2VBY3RpdmVQYWdlKCdzY29yZXMnKTtcclxuXHJcbiAgICAgICAgICAgIEZpcmVTdG9yZS5nZXRTY29yZXMoKS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCA9ICc8aDEgY2xhc3M9XCJhYm91dFwiPjxzcGFuPlNjb3Jlczwvc3Bhbj48L2gxPic7XHJcbiAgICAgICAgICAgICAgICBsZXQgb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvbCcpO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgICAgICAgICAgICAgICBsaS5pbm5lckhUTUwgPSBgJHtpdGVtLm5hbWV9IC0gJHtpdGVtLnNjb3JlfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgb2wuYXBwZW5kQ2hpbGQobGkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGRpdkZvckRpdmlzaW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBkaXZGb3JEaXZpc2lvbi5jbGFzc0xpc3QuYWRkKCd3LTEwMCcpO1xyXG4gICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChkaXZGb3JEaXZpc2lvbik7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQob2wpO1xyXG4gICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG1hdGNoOiAncmVwbGF5JyxcclxuICAgICAgICBvbkVudGVyOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICgoZ2FtZS5yZXBsYXlEYXRhIHx8IFtdKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJ2dhbWUnO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdhbWUucmVwbGF5R2FtZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG1hdGNoOiAnd2F0Y2hyZXBsYXknLFxyXG4gICAgICAgIG9uRW50ZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSAncmVwbGF5JztcclxuICAgICAgICB9XHJcblxyXG4gICAgfSwge1xyXG4gICAgICAgIG1hdGNoOiAnbmV3Z2FtZScsXHJcbiAgICAgICAgb25FbnRlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICdnYW1lJztcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5dO1xyXG5cclxuZnVuY3Rpb24gY2hhbmdlQWN0aXZlUGFnZShuZXdQYWdlKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJykuY2xhc3NOYW1lID0gJyc7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbaHJlZj1cIiMke25ld1BhZ2V9XCJdYCkucGFyZW50RWxlbWVudC5jbGFzc05hbWUgPSAnYWN0aXZlJztcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcztcclxuIiwiaW1wb3J0IGRldGVjdE1vYmlsZSBmcm9tICcuL2RldGVjdE1vYmlsZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRCdXR0b25zRm9yTW9iaWxlKCkge1xyXG4gICAgaWYgKGRldGVjdE1vYmlsZSgpKSB7XHJcblxyXG4gICAgICAgIHZhciBkaXZGb3JCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGl2Rm9yQnV0dG9ucy5jbGFzc0xpc3QuYWRkKCdidXR0b25zJyk7XHJcblxyXG4gICAgICAgIHZhciBidXR0b25MZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgYnV0dG9uTGVmdC5pbm5lckhUTUwgPSAnPCc7XHJcbiAgICAgICAgYnV0dG9uTGVmdC5jbGFzc0xpc3QuYWRkKCdsZWZ0Jyk7XHJcblxyXG4gICAgICAgIHZhciBidXR0b25VcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIGJ1dHRvblVwLmlubmVySFRNTCA9ICdeJztcclxuICAgICAgICBidXR0b25VcC5jbGFzc0xpc3QuYWRkKCd1cCcpO1xyXG5cclxuICAgICAgICB2YXIgYnV0dG9uUmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICBidXR0b25SaWdodC5pbm5lckhUTUwgPSAnPic7XHJcbiAgICAgICAgYnV0dG9uUmlnaHQuY2xhc3NMaXN0LmFkZCgncmlnaHQnKTtcclxuXHJcbiAgICAgICAgdmFyIGJ1dHRvbkRvd24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICBidXR0b25Eb3duLmlubmVySFRNTCA9ICd2JztcclxuICAgICAgICBidXR0b25Eb3duLmNsYXNzTGlzdC5hZGQoJ2Rvd24nKTtcclxuXHJcblxyXG5cclxuICAgICAgICBkaXZGb3JCdXR0b25zLmFwcGVuZENoaWxkKGJ1dHRvbkxlZnQpO1xyXG4gICAgICAgIGRpdkZvckJ1dHRvbnMuYXBwZW5kQ2hpbGQoYnV0dG9uVXApO1xyXG4gICAgICAgIGRpdkZvckJ1dHRvbnMuYXBwZW5kQ2hpbGQoYnV0dG9uUmlnaHQpO1xyXG4gICAgICAgIGRpdkZvckJ1dHRvbnMuYXBwZW5kQ2hpbGQoYnV0dG9uRG93bik7XHJcblxyXG4gICAgICAgIGRpdkZvckJ1dHRvbnMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5tYXRjaGVzKCcucmlnaHQnKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGUgPSBuZXcgRXZlbnQoJ2tleWRvd24nKTtcclxuICAgICAgICAgICAgICAgIGUua2V5Q29kZSA9IDM5O1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoJy5sZWZ0JykpIHtcclxuICAgICAgICAgICAgICAgIGxldCBlID0gbmV3IEV2ZW50KCdrZXlkb3duJyk7XHJcbiAgICAgICAgICAgICAgICBlLmtleUNvZGUgPSAzNztcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5tYXRjaGVzKCcudXAnKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGUgPSBuZXcgRXZlbnQoJ2tleWRvd24nKTtcclxuICAgICAgICAgICAgICAgIGUua2V5Q29kZSA9IDM4O1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoJy5kb3duJykpIHtcclxuICAgICAgICAgICAgICAgIGxldCBlID0gbmV3IEV2ZW50KCdrZXlkb3duJyk7XHJcbiAgICAgICAgICAgICAgICBlLmtleUNvZGUgPSA0MDtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXZGb3JCdXR0b25zKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZXRlY3Rtb2JpbGUoKSB7XHJcbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZC9pKVxyXG4gICAgICAgIHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL3dlYk9TL2kpXHJcbiAgICAgICAgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBob25lL2kpXHJcbiAgICAgICAgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBhZC9pKVxyXG4gICAgICAgIHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQb2QvaSlcclxuICAgICAgICB8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9CbGFja0JlcnJ5L2kpXHJcbiAgICAgICAgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvV2luZG93cyBQaG9uZS9pKVxyXG4gICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn0iLCJsZXQgdXJsID0gJ2h0dHBzOi8va2F0ZS1hcmNhZGUtZ2FtZS5maXJlYmFzZWlvLmNvbS8uanNvbic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGaXJlU3RvcmUge1xyXG4gICAgc3RhdGljIGdldFNjb3JlcygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2godXJsKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgc2F2ZVNjb3JlKGluZm9Ub1NhdmUpIHtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRTY29yZXMoKS50aGVuKHNjb3JlcyA9PiB7XHJcbiAgICAgICAgICAgIGxldCBuZXdTY29yZXMgPSBbLi4uc2NvcmVzIHx8IFtdLCBpbmZvVG9TYXZlXTtcclxuICAgICAgICAgICAgbmV3U2NvcmVzLnNvcnQoKGl0ZW0xLCBpdGVtMikgPT4gaXRlbTEuc2NvcmUgPiBpdGVtMi5zY29yZSA/IC0xIDogaXRlbTEuc2NvcmUgPCBpdGVtMi5zY29yZSA/IDEgOiAwKTtcclxuICAgICAgICAgICAgbmV3U2NvcmVzLnNwbGljZSgxMCk7XHJcbiAgICAgICAgICAgIGZldGNoKHVybCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG5ld1Njb3JlcylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCIvKipcclxuICog0KTRg9C90LrRhtC40Y8g0LTQu9GPINC00L7QsdCw0LLQu9C10L3QuNGPINC4INC+0LHRgNCw0LHQvtGC0LrQuCDRgNC+0YPRgtC+0LIg0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbiAqIEBwYXJhbSB7Kn0gcm91dGVQYXJhbXMg0LzQsNGB0YHQuNCyINC/0LDRgNCw0LzQtdGC0YDQvtCyINC00LvRjyDQvtCx0YDQsNCx0L7RgtC60Lgg0YDQvtGD0YLQvtCyXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSb3V0ZXIocm91dGVQYXJhbXMpIHtcclxuICAgIHRoaXMucm91dGVzID0gcm91dGVQYXJhbXMgfHwgW107XHJcbiAgICB0aGlzLmN1cnJlbnRSb3V0ZTtcclxuICAgIHRoaXMucHJldmlvdXNSb3V0ZTtcclxuICAgIHRoaXMuY3VycmVudFBhcmFtcztcclxuICAgIHRoaXMucHJldmlvdXNQYXJhbXM7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsICgpID0+IHtcclxuICAgICAgICB0aGlzLmhhbmRsZXIod2luZG93LmxvY2F0aW9uLmhhc2gpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmhhbmRsZXIod2luZG93LmxvY2F0aW9uLmhhc2gpO1xyXG59XHJcblxyXG5Sb3V0ZXIucHJvdG90eXBlID0ge1xyXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gKGhhc2gpIHtcclxuICAgICAgICB0aGlzLnByZXZpb3VzUm91dGUgPSB0aGlzLmN1cnJlbnRSb3V0ZTtcclxuICAgICAgICB0aGlzLnByZXZpb3VzUGFyYW1zID0gdGhpcy5jdXJyZW50UGFyYW1zO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFJvdXRlID0gdGhpcy5maW5kTmV3Um91dGUoaGFzaCk7XHJcbiAgICAgICAgdGhpcy5sYXVuY2hIYW5kbGVycygpO1xyXG4gICAgfSxcclxuICAgIGZpbmROZXdSb3V0ZTogZnVuY3Rpb24gKGhhc2gpIHtcclxuICAgICAgICBoYXNoID0gaGFzaC5zbGljZSgxKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJvdXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMucm91dGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIChlbGVtZW50Lm1hdGNoKSA9PSAnc3RyaW5nJyAmJiBlbGVtZW50Lm1hdGNoID09PSBoYXNoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXJhbXMgPSAnJztcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKGVsZW1lbnQubWF0Y2gpID09ICdmdW5jdGlvbicgJiYgZWxlbWVudC5tYXRjaChoYXNoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFyYW1zID0gJyc7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKGVsZW1lbnQubWF0Y2ggaW5zdGFuY2VvZiBSZWdFeHApICYmIGVsZW1lbnQubWF0Y2gudGVzdChoYXNoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFyYW1zID0gaGFzaC5tYXRjaChlbGVtZW50Lm1hdGNoKSB8fCBbXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhcmFtcy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsYXVuY2hIYW5kbGVycygpIHtcclxuICAgICAgICBQcm9taXNlLnJlc29sdmUoKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7IHRoaXMucHJldmlvdXNSb3V0ZSAmJiB0aGlzLnByZXZpb3VzUm91dGUub25MZWF2ZSAmJiB0aGlzLnByZXZpb3VzUm91dGUub25MZWF2ZSh0aGlzLnByZXZpb3VzUGFyYW1zKTsgfSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4geyB0aGlzLmN1cnJlbnRSb3V0ZSAmJiB0aGlzLmN1cnJlbnRSb3V0ZS5vbkJlZm9yZUVudGVyICYmIHRoaXMuY3VycmVudFJvdXRlLm9uQmVmb3JlRW50ZXIodGhpcy5jdXJyZW50UGFyYW1zKTsgfSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4geyB0aGlzLmN1cnJlbnRSb3V0ZSAmJiB0aGlzLmN1cnJlbnRSb3V0ZS5vbkVudGVyICYmIHRoaXMuY3VycmVudFJvdXRlLm9uRW50ZXIodGhpcy5jdXJyZW50UGFyYW1zKTsgfSk7XHJcbiAgICB9XHJcbn07Il19
