!function o(a,s,u){function h(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[t]={exports:{}};a[t][0].call(r.exports,function(e){return h(a[t][1][e]||e)},r,r.exports,o,a,s,u)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)h(u[e]);return h}({1:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0});var r,o=e("./enemy"),a=(r=o)&&r.__esModule?r:{default:r};var s=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,"goblin"));return t.width=36,t.height=48,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),n}();n.default=s},{"./enemy":2}],2:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0});var i,o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=e("./person"),s=(i=a)&&i.__esModule?i:{default:i};var u=function(e){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));return n.width=0,n.height=0,n.generatePosition(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,s.default),o(i,[{key:"generatePosition",value:function(){for(;this.position={x:Math.abs(this.width-this.game.width*Math.random()),y:this.game.height/2*Math.random()},this.getDistanceToHero()<200;);}},{key:"getDistanceToHero",value:function(){var e=this.game.hero;return Math.sqrt(Math.pow(e.position.x-this.position.x,2)+Math.pow(e.position.y-this.position.y,2))}}]),i}();n.default=u},{"./person":6}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=30,this.height=30,this.game=e,this.position={x:Math.abs(this.width-this.game.width*Math.random()),y:this.game.height/2*Math.random()},this.sprite=this.generateSptite()}return i(t,[{key:"getNextSprite",value:function(){return this.sprite}},{key:"generateSptite",value:function(){var e=document.querySelectorAll(".fruit-img");return e[Math.round(Math.random()*(e.length-1))]}},{key:"personState",get:function(){return{x:this.position.x,y:this.position.y}},set:function(e){this.position.x=e.x,this.position.y=e.y}}]),t}();n.default=r},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=h(e("./hero")),o=h(e("./dummyEnemy")),a=h(e("./smartEnemy")),s=h(e("../utils/firebase")),u=h(e("./fruit"));function h(e){return e&&e.__esModule?e:{default:e}}var l=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameOnScreen=!1,this.width=1e3<=window.innerWidth?1e3:window.innerWidth,this.height=(document.documentElement.clientHeight||document.body.clientHeight)-160,this.containter=e,this.setUpHero()}return i(t,[{key:"setUpGame",value:function(){var e=this;this.setUpCanvas(),this.hero=new r.default(this),this.replayData=[],this.characters=new Array(2).fill(0).map(function(){return new o.default(e)}),this.characters.push(new a.default(this)),this.fruits=[],this.level=1,this.baseSpeed=0,this.gamePlays=!1,this.gameTimer=0,this.timerHandler=setInterval(function(){return e.gameStep()},100)}},{key:"gameStep",value:function(){var t=this;this.context.clearRect(0,0,this.width,this.height),this.context.font="20px Segoe UI",this.context.fillText("Scores "+(this.gameTimer?this.getScore():0),this.width-150,30),this.context.fillText("Level "+this.level,this.width-150,55);var n=[];this.drawCharacter(this.hero),this.characters.forEach(function(e){t.drawCharacter(e),n.push({character:e,state:e.personState})}),this.fruits.forEach(function(e){t.drawCharacter(e),n.push({character:e,state:e.personState})}),this.fruits=this.fruits.filter(function(e){return!t.checkCharactersIntersection(t.hero,e)||(t.hero.enableRage(),!1)}),n.push({character:this.hero,state:this.hero.personState}),this.gamePlays&&this.replayData.push(n),this.hero.rageMode?this.characters=this.characters.filter(function(e){return!t.checkCharactersIntersection(t.hero,e)}):this.characters.some(function(e){return t.checkCharactersIntersection(t.hero,e)})&&this.loseGame()}},{key:"drawCharacter",value:function(e){this.context.drawImage(e.getNextSprite(),e.position.x,e.position.y,e.width,e.height)}},{key:"getScore",value:function(){return Math.round(((new Date).getTime()-this.gameTimer)/100)/10}},{key:"checkCharactersIntersection",value:function(e,t){if(e.position.x+20<=t.position.x+t.width&&e.position.x+e.width>=t.position.x+20&&e.position.y+20<=t.position.y+t.height&&e.position.y+e.height>=t.position.y+20)return!0}},{key:"runGame",value:function(){this.gameTimer=(new Date).getTime(),this.gamePlays=!0,this.baseSpeed=5,this.setLevel()}},{key:"loseGame",value:function(){var n=this;setTimeout(function(){n.endGame();var e=n.getScore(),t=prompt("Your score is "+e+" seconds.\n Enter your name","I'm Batman");t&&s.default.saveScore({name:t,score:e}),n.addEndGameButtons()},0)}},{key:"endGame",value:function(){clearInterval(this.timerHandler),clearInterval(this.levelTimer),this.gamePlays=!1,this.baseSpeed=0,this.gameOnScreen=!1}},{key:"setLevel",value:function(){var t=this;this.levelTimer=setInterval(function(){t.level+=1,t.characters.push(new o.default(t)),t.level%2==1&&t.characters.push(new a.default(t)),3<=t.level&&t.fruits.push(new u.default(t));var e=document.createElement("div");e.classList.add("level-up"),e.innerHTML="Level Up! Current level - "+t.level,t.containter.appendChild(e),setTimeout(function(){t.containter.removeChild(e)},1e3)},1e4)}},{key:"addEndGameButtons",value:function(){var e=document.createElement("div");e.classList.add("end-buttons");var t=document.createElement("button");t.innerHTML="Watch replay",t.addEventListener("click",function(){window.location.hash="watchreplay"});var n=document.createElement("button");n.innerHTML="Start new game",n.addEventListener("click",function(){window.location.hash="newgame"}),e.appendChild(t),e.appendChild(n),this.containter.appendChild(e)}},{key:"setUpHero",value:function(){var t=this;document.addEventListener("keydown",function(e){if(t.gameOnScreen){switch(e.keyCode){case 37:t.hero.directionAngle=Math.PI;break;case 38:t.hero.directionAngle=Math.PI/2;break;case 39:t.hero.directionAngle=0;break;case 40:t.hero.directionAngle=Math.PI/2*3;break;default:return}t.gamePlays||t.runGame()}})}},{key:"setUpCanvas",value:function(){this.gameOnScreen=!0,this.canvas=document.createElement("canvas"),this.containter.innerHTML="",this.containter.appendChild(this.canvas),this.canvas.width=this.width,this.canvas.height=this.height,this.context=this.canvas.getContext("2d")}},{key:"replayGame",value:function(){var t=this;clearInterval(this.replayTimer);var e=0;this.replayTimer=setInterval(function(){e>=(t.replayData||[]).length?clearInterval(t.replayTimer):(t.context.clearRect(0,0,t.width,t.height),t.replayData[e].forEach(function(e){e.character.personState=e.state,t.drawCharacter(e.character)}),e++)},20)}}]),t}();n.default=l},{"../utils/firebase":12,"./dummyEnemy":1,"./fruit":3,"./hero":5,"./smartEnemy":7}],5:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=s(e("./person")),a=s(e("../utils/imagesSource"));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,"knight"));return t.width=55,t.height=75,t.position={x:(t.game.width-t.width)/2,y:t.game.height-t.height},t.rageMode=!1,t.sprites=t.spritesCollection.down,t.directionAngle=Math.PI/2,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),r(n,[{key:"getSpeed",value:function(){this.speed=this.game.baseSpeed*this.game.level}},{key:"enableRage",value:function(){var e=this;this.rageMode=!0,this.selectSpritesCollection(),this.game.canvas.classList.add("rage-canvas"),setTimeout(function(){return e.game.canvas.classList.remove("rage-canvas")},3e3),setTimeout(function(){e.rageMode=!1,e.selectSpritesCollection()},3500)}},{key:"selectSpritesCollection",value:function(){!0===this.rageMode?(this.width=75,this.spritesCollection=this.furySpritesCollection):(this.width=55,this.spritesCollection=this.normalSpritesColletcion),this.selectSprites()}},{key:"getAllSprites",value:function(){this.normalSpritesColletcion={left:this.getSprites(a.default[this.selector].normal.left),right:this.getSprites(a.default[this.selector].normal.right),up:this.getSprites(a.default[this.selector].normal.up),down:this.getSprites(a.default[this.selector].normal.down)},this.spritesCollection=this.normalSpritesColletcion,this.furySpritesCollection={left:this.getSprites(a.default[this.selector].rage.left),right:this.getSprites(a.default[this.selector].rage.right),up:this.getSprites(a.default[this.selector].rage.up),down:this.getSprites(a.default[this.selector].rage.down)}}},{key:"personState",get:function(){return{x:this.position.x,y:this.position.y,directionAngle:this.directionAngle,rageMode:this.rageMode}},set:function(e){this.directionAngle=e.directionAngle,this.position.x=e.x,this.position.y=e.y,this.rageMode!==e.rageMode&&(this.rageMode=e.rageMode,this.spritesCollection=this.rageMode?this.furySpritesCollection:this.normalSpritesColletcion,this.selectSprites())}}]),n}();n.default=u},{"../utils/imagesSource":13,"./person":6}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=e("../utils/imagesSource"),a=(i=o)&&i.__esModule?i:{default:i};var s=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.selector=t,this.getAllSprites(),this.game=e,this.directionAngle=2*Math.PI*Math.random(),this.speed=e.level*e.baseSpeed/2,this.currentImg=0}return r(n,[{key:"selectSprites",value:function(){this.directionAngle>=5*Math.PI/4&&this.directionAngle<=7*Math.PI/4?this.sprites=this.spritesCollection.down:this.directionAngle>=Math.PI/4&&this.directionAngle<=3*Math.PI/4?this.sprites=this.spritesCollection.up:this.directionAngle>=3*Math.PI/4&&this.directionAngle<=5*Math.PI/4?this.sprites=this.spritesCollection.left:this.sprites=this.spritesCollection.right}},{key:"getAllSprites",value:function(){this.spritesCollection={left:this.getSprites(a.default[this.selector].left),right:this.getSprites(a.default[this.selector].right),up:this.getSprites(a.default[this.selector].up),down:this.getSprites(a.default[this.selector].down)}}},{key:"getSprites",value:function(e){return e.map(function(e){var t=new Image;return t.src=e,t})}},{key:"getNextSprite",value:function(){return this.step(),this.currentImg>=this.sprites.length&&(this.currentImg=0),this.sprites[this.currentImg++]}},{key:"step",value:function(){this.getSpeed(),this.position.x+=Math.cos(this.directionAngle)*this.speed,this.position.x+this.width/2>this.game.width&&(this.position.x=-this.width/2),this.position.x+this.width/2<0&&(this.position.x=this.game.width-this.width/2),this.position.y-=Math.sin(this.directionAngle)*this.speed,this.position.y+this.height/2>this.game.height&&(this.position.y=-this.height/2),this.position.y+this.height/2<0&&(this.position.y=this.game.height-this.height/2)}},{key:"getSpeed",value:function(){this.speed=this.game.baseSpeed*this.game.level/2}},{key:"directionAngle",get:function(){return this._directionAngle},set:function(e){this._directionAngle=e,this.selectSprites()}},{key:"personState",get:function(){return{x:this.position.x,y:this.position.y,directionAngle:this.directionAngle}},set:function(e){this.directionAngle=e.directionAngle,this.position.x=e.x,this.position.y=e.y}}]),n}();n.default=s},{"../utils/imagesSource":13}],7:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(n,"__esModule",{value:!0});var i,o=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=e("./enemy"),s=(i=a)&&i.__esModule?i:{default:i};var u=function(e){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,"rogue"));return t.range=300,t.width=40,t.height=45,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,s.default),o(i,[{key:"step",value:function(){var e=this.game.hero.position,t=this.position;if(this.getDistanceToHero()<=this.range&&e.x!==t.x){var n=Math.atan((e.y-t.y)/(e.x-t.x));e.x>t.x&&e.y<t.y||e.x>t.x&&e.y>t.y?this.directionAngle=2*Math.PI-n:this.directionAngle=Math.PI-n}(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"step",this).call(this)}}]),i}();n.default=u},{"./enemy":2}],8:[function(e,t,n){"use strict";var i=o(e("./utils/router")),r=o(e("./routes"));function o(e){return e&&e.__esModule?e:{default:e}}(0,o(e("./utils/addButtonsForMobile")).default)(),new i.default(r.default)},{"./routes":9,"./utils/addButtonsForMobile":10,"./utils/router":14}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=o(e("./gameObjects/gameState")),r=o(e("./utils/firebase"));function o(e){return e&&e.__esModule?e:{default:e}}var a=document.querySelector(".content"),s=new i.default(a),u=[{match:"",onEnter:function(){window.location.hash="game"}},{match:"about",onEnter:function(){h("about"),a.innerHTML='<h1>\n             <span>Super arcade game</span>\n            </h1>\n            <div class="w-100"></div>\n            <div>\n                <h2>Author\n                    <a href="https://github.com/citrinin">Kate Kuzkina</a>\n                </h2>\n            </div>\n            <div class="about">\n                <span>This is an arcade game where You will play as knight.</span>\n                <img src="knight/knight_run_down_000.png" /> <br/>\n                <span>You can control knight with arrow keys or if you play on mobile phone with buttons on screen.</span>\n                <br/> \n                <span>Your goal is to stay alive as long as possible despite the enemies that want to kill You. </span>\n                <br/>\n                <span>This is Goblin – dummy enemy. <img src="goblin/goblin_run_down_000.png" width="35" /> \n                He will run in random direction all the time. </span>\n                <br/>\n                <span>This is Rogue – smart enemy.  <img src="rogue/rogue_run_down_000.png" width="40" />He will also run in random direction\n                but if he will see You around – he will chase you till you ran away.</span>\n                <br/>\n                <span> Sometimes on the screen can appear fruits.\n                <img src="food/Apple.png">\n                <img src="food/Avocado.png">\n                <img src="food/Cherry.png">\n                <img src="food/Lemon.png">\n                <img src="food/MelonWater.png">\n                <img src="food/Peach.png">\n                <img src="food/Strawberry.png">\n                They will give you power to fight with enemies, but only for 3 seconds.<span><br/>\n                <span>Good luck!</span>\n            </div>'}},{match:"game",onEnter:function(){h("game"),s.setUpGame()},onLeave:function(){s.endGame()}},{match:"scores",onEnter:function(){h("scores"),r.default.getScores().then(function(e){a.innerHTML='<h1 class="about"><span>Scores</span></h1>';var n=document.createElement("ol");e.forEach(function(e){var t=document.createElement("li");t.innerHTML=e.name+" - "+e.score,n.appendChild(t)});var t=document.createElement("div");t.classList.add("w-100"),a.appendChild(t);var i=document.createElement("div");i.appendChild(n),a.appendChild(i)})}},{match:"replay",onEnter:function(){0!==(s.replayData||[]).length?s.replayGame():window.location.hash="game"}},{match:"watchreplay",onEnter:function(){window.location.hash="replay"}},{match:"newgame",onEnter:function(){window.location.hash="game"}}];function h(e){document.querySelector(".active").className="",document.querySelector('[href="#'+e+'"]').parentElement.className="active"}n.default=u},{"./gameObjects/gameState":4,"./utils/firebase":12}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if((0,o.default)()){var e=document.createElement("div");e.classList.add("buttons");var t=document.createElement("button");t.innerHTML="<",t.classList.add("left");var n=document.createElement("button");n.innerHTML="^",n.classList.add("up");var i=document.createElement("button");i.innerHTML=">",i.classList.add("right");var r=document.createElement("button");r.innerHTML="v",r.classList.add("down"),e.appendChild(t),e.appendChild(n),e.appendChild(i),e.appendChild(r),e.addEventListener("click",function(e){if(e.target.matches(".right")){var t=new Event("keydown");return t.keyCode=39,void document.dispatchEvent(t)}if(e.target.matches(".left")){var n=new Event("keydown");return n.keyCode=37,void document.dispatchEvent(n)}if(e.target.matches(".up")){var i=new Event("keydown");return i.keyCode=38,void document.dispatchEvent(i)}if(e.target.matches(".down")){var r=new Event("keydown");return r.keyCode=40,void document.dispatchEvent(r)}}),document.body.appendChild(e)}};var i,r=e("./detectMobile"),o=(i=r)&&i.__esModule?i:{default:i}},{"./detectMobile":11}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var r="https://kate-arcade-game.firebaseio.com/.json",o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"getScores",value:function(){return fetch(r).then(function(e){return e.json()})}},{key:"saveScore",value:function(n){this.getScores().then(function(e){var t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e||[]),[n]);t.sort(function(e,t){return e.score>t.score?-1:e.score<t.score?1:0}),t.splice(10),fetch(r,{method:"PUT",body:JSON.stringify(t)})})}}]),e}();n.default=o},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default={knight:{normal:{up:[" knight/knight_run_up_000.png","knight/knight_run_up_001.png","knight/knight_run_up_002.png","knight/knight_run_up_003.png","knight/knight_run_up_004.png"],right:["knight/knight_run_right_000.png","knight/knight_run_right_001.png","knight/knight_run_right_002.png","knight/knight_run_right_003.png","knight/knight_run_right_004.png","knight/knight_run_right_005.png"],down:["knight/knight_run_down_000.png","knight/knight_run_down_001.png","knight/knight_run_down_002.png","knight/knight_run_down_003.png","knight/knight_run_down_004.png"],left:["knight/knight_run_left_000.png","knight/knight_run_left_001.png","knight/knight_run_left_002.png","knight/knight_run_left_003.png","knight/knight_run_left_004.png","knight/knight_run_left_005.png"]},rage:{up:["knight/knight_kills_up_000.png","knight/knight_kills_up_001.png","knight/knight_kills_up_002.png"],right:["knight/knight_kills_right_000.png","knight/knight_kills_right_001.png","knight/knight_kills_right_002.png"],down:["knight/knight_kills_down_000.png","knight/knight_kills_down_001.png","knight/knight_kills_down_002.png"],left:["knight/knight_kills_left_000.png","knight/knight_kills_left_001.png","knight/knight_kills_left_002.png"]}},rogue:{up:["rogue/rogue_run_up_000.png","rogue/rogue_run_up_001.png","rogue/rogue_run_up_002.png","rogue/rogue_run_up_003.png"],right:["rogue/rogue_run_right_000.png","rogue/rogue_run_right_001.png","rogue/rogue_run_right_002.png","rogue/rogue_run_right_003.png","rogue/rogue_run_right_004.png","rogue/rogue_run_right_005.png"],down:["rogue/rogue_run_down_000.png","rogue/rogue_run_down_001.png","rogue/rogue_run_down_002.png","rogue/rogue_run_down_003.png"],left:["rogue/rogue_run_left_000.png","rogue/rogue_run_left_001.png","rogue/rogue_run_left_002.png","rogue/rogue_run_left_003.png","rogue/rogue_run_left_004.png","rogue/rogue_run_left_005.png"]},goblin:{up:["goblin/goblin_run_up_000.png","goblin/goblin_run_up_001.png","goblin/goblin_run_up_002.png","goblin/goblin_run_up_003.png"],right:["goblin/goblin_run_right_000.png","goblin/goblin_run_right_001.png","goblin/goblin_run_right_002.png","goblin/goblin_run_right_003.png","goblin/goblin_run_right_004.png","goblin/goblin_run_right_005.png"],down:["goblin/goblin_run_down_000.png","goblin/goblin_run_down_001.png","goblin/goblin_run_down_002.png","goblin/goblin_run_down_003.png"],left:["goblin/goblin_run_left_000.png","goblin/goblin_run_left_001.png","goblin/goblin_run_left_002.png","goblin/goblin_run_left_003.png","goblin/goblin_run_left_004.png","goblin/goblin_run_left_005.png"]}}},{}],14:[function(e,t,n){"use strict";function i(e){var t=this;this.routes=e||[],this.currentRoute,this.previousRoute,this.currentParams,this.previousParams,window.addEventListener("hashchange",function(){t.handler(window.location.hash)}),this.handler(window.location.hash)}Object.defineProperty(n,"__esModule",{value:!0}),(n.default=i).prototype={handler:function(e){this.previousRoute=this.currentRoute,this.previousParams=this.currentParams,this.currentRoute=this.findNewRoute(e),this.launchHandlers()},findNewRoute:function(e){e=e.slice(1);for(var t=0;t<this.routes.length;t++){var n=this.routes[t];if("string"==typeof n.match&&n.match===e)return this.currentParams="",n;if("function"==typeof n.match&&n.match(e))return this.currentParams="",n;if(n.match instanceof RegExp&&n.match.test(e))return this.currentParams=e.match(n.match)||[],this.currentParams.splice(0,1),n}},launchHandlers:function(){var e=this;Promise.resolve().then(function(){e.previousRoute&&e.previousRoute.onLeave&&e.previousRoute.onLeave(e.previousParams)}).then(function(){e.currentRoute&&e.currentRoute.onBeforeEnter&&e.currentRoute.onBeforeEnter(e.currentParams)}).then(function(){e.currentRoute&&e.currentRoute.onEnter&&e.currentRoute.onEnter(e.currentParams)})}}},{}]},{},[8]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvZ2FtZU9iamVjdHMvZHVtbXlFbmVteS5qcyIsInNyYy9qcy9nYW1lT2JqZWN0cy9lbmVteS5qcyIsInNyYy9qcy9nYW1lT2JqZWN0cy9mcnVpdC5qcyIsInNyYy9qcy9nYW1lT2JqZWN0cy9nYW1lU3RhdGUuanMiLCJzcmMvanMvZ2FtZU9iamVjdHMvaGVyby5qcyIsInNyYy9qcy9nYW1lT2JqZWN0cy9wZXJzb24uanMiLCJzcmMvanMvZ2FtZU9iamVjdHMvc21hcnRFbmVteS5qcyIsInNyYy9qcy9tYWluLmpzIiwic3JjL2pzL3JvdXRlcy5qcyIsInNyYy9qcy91dGlscy9hZGRCdXR0b25zRm9yTW9iaWxlLmpzIiwic3JjL2pzL3V0aWxzL2RldGVjdE1vYmlsZS5qcyIsInNyYy9qcy91dGlscy9maXJlYmFzZS5qcyIsInNyYy9qcy91dGlscy9pbWFnZXNTb3VyY2UuanMiLCJzcmMvanMvdXRpbHMvcm91dGVyLmpzIl0sIm5hbWVzIjpbInIiLCJlIiwibiIsInQiLCJvIiwiaSIsImYiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsIl9lbmVteSIsIkR1bW15RW5lbXkiLCJnYW1lU3RhdGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX3RoaXMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9fcHJvdG9fXyIsIk9iamVjdCIsImdldFByb3RvdHlwZU9mIiwid2lkdGgiLCJoZWlnaHQiLCJfZW5lbXkyIiwiZGVmYXVsdCIsIl9wZXJzb24iLCJFbmVteSIsInNlbGVjdG9yIiwiZ2VuZXJhdGVQb3NpdGlvbiIsIl9wZXJzb24yIiwicG9zaXRpb24iLCJ4IiwiTWF0aCIsImFicyIsImdhbWUiLCJyYW5kb20iLCJ5IiwiZ2V0RGlzdGFuY2VUb0hlcm8iLCJoZXJvIiwic3FydCIsInBvdyIsIkZydWl0Iiwic3ByaXRlIiwiZ2VuZXJhdGVTcHRpdGUiLCJzcHJpdGVzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwicm91bmQiLCJuZXdQb3NpdGlvbiIsIkdhbWVTdGF0ZSIsImVsZW1lbnRUb0RyYXciLCJnYW1lT25TY3JlZW4iLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50SGVpZ2h0IiwiYm9keSIsImNvbnRhaW50ZXIiLCJzZXRVcEhlcm8iLCJzZXRVcENhbnZhcyIsIl9oZXJvMiIsInJlcGxheURhdGEiLCJjaGFyYWN0ZXJzIiwiQXJyYXkiLCJmaWxsIiwibWFwIiwiX2R1bW15RW5lbXkyIiwicHVzaCIsIl9zbWFydEVuZW15MiIsImZydWl0cyIsImxldmVsIiwiYmFzZVNwZWVkIiwiZ2FtZVBsYXlzIiwiZ2FtZVRpbWVyIiwidGltZXJIYW5kbGVyIiwic2V0SW50ZXJ2YWwiLCJnYW1lU3RlcCIsIl90aGlzMiIsImNvbnRleHQiLCJjbGVhclJlY3QiLCJmb250IiwiZmlsbFRleHQiLCJnZXRTY29yZSIsInN0ZXBEYXRhIiwiZHJhd0NoYXJhY3RlciIsImZvckVhY2giLCJjaGFyYWN0ZXIiLCJzdGF0ZSIsInBlcnNvblN0YXRlIiwiZnJ1aXQiLCJmaWx0ZXIiLCJjaGVja0NoYXJhY3RlcnNJbnRlcnNlY3Rpb24iLCJlbmFibGVSYWdlIiwicmFnZU1vZGUiLCJzb21lIiwibG9zZUdhbWUiLCJkcmF3SW1hZ2UiLCJnZXROZXh0U3ByaXRlIiwiRGF0ZSIsImdldFRpbWUiLCJlbmVteSIsInNldExldmVsIiwiX3RoaXMzIiwic2V0VGltZW91dCIsImVuZEdhbWUiLCJzY29yZSIsIm5hbWUiLCJwcm9tcHQiLCJfZmlyZWJhc2UyIiwic2F2ZVNjb3JlIiwiYWRkRW5kR2FtZUJ1dHRvbnMiLCJjbGVhckludGVydmFsIiwibGV2ZWxUaW1lciIsIl90aGlzNCIsIl9mcnVpdDIiLCJtZXNzYWdlIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJkaXZGb3JCdXR0b25zIiwicmVwbGF5QnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxvY2F0aW9uIiwiaGFzaCIsInN0YXJ0TmV3R2FtZUJ1dHRvbiIsIl90aGlzNSIsImV2ZW50Iiwia2V5Q29kZSIsImRpcmVjdGlvbkFuZ2xlIiwiUEkiLCJydW5HYW1lIiwiY2FudmFzIiwiZ2V0Q29udGV4dCIsIl90aGlzNiIsInJlcGxheVRpbWVyIiwiY3VycmVudFN0YXRlIiwiZGF0YSIsIkhlcm8iLCJzcHJpdGVzQ29sbGVjdGlvbiIsImRvd24iLCJzcGVlZCIsInNlbGVjdFNwcml0ZXNDb2xsZWN0aW9uIiwicmVtb3ZlIiwiZnVyeVNwcml0ZXNDb2xsZWN0aW9uIiwibm9ybWFsU3ByaXRlc0NvbGxldGNpb24iLCJzZWxlY3RTcHJpdGVzIiwibGVmdCIsImdldFNwcml0ZXMiLCJfaW1hZ2VzU291cmNlMiIsIm5vcm1hbCIsInJpZ2h0IiwidXAiLCJyYWdlIiwiX2ltYWdlc1NvdXJjZSIsIlBlcnNvbiIsImdldEFsbFNwcml0ZXMiLCJjdXJyZW50SW1nIiwiaW1hZ2VzIiwic3JjIiwiaW1nIiwiSW1hZ2UiLCJzdGVwIiwiZ2V0U3BlZWQiLCJjb3MiLCJzaW4iLCJfZGlyZWN0aW9uQW5nbGUiLCJuZXdWYWx1ZSIsIlNtYXJ0RW5lbXkiLCJyYW5nZSIsImhlcm9Qb3NpdGlvbiIsImVuZW15UG9zaXRpb24iLCJhdGFuIiwiX2dldCIsInByb3RvdHlwZSIsIl9yb3V0ZXIyIiwiX3JvdXRlczIiLCJjb250ZW50IiwicXVlcnlTZWxlY3RvciIsIl9nYW1lU3RhdGUyIiwicm91dGVzIiwibWF0Y2giLCJvbkVudGVyIiwiY2hhbmdlQWN0aXZlUGFnZSIsInNldFVwR2FtZSIsIm9uTGVhdmUiLCJnZXRTY29yZXMiLCJ0aGVuIiwicmVzdWx0Iiwib2wiLCJpdGVtIiwibGkiLCJkaXZGb3JEaXZpc2lvbiIsImRpdiIsInJlcGxheUdhbWUiLCJuZXdQYWdlIiwiY2xhc3NOYW1lIiwicGFyZW50RWxlbWVudCIsIl9kZXRlY3RNb2JpbGUyIiwiYnV0dG9uTGVmdCIsImJ1dHRvblVwIiwiYnV0dG9uUmlnaHQiLCJidXR0b25Eb3duIiwidGFyZ2V0IiwibWF0Y2hlcyIsIkV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsIl9lIiwiX2UyIiwiX2UzIiwiX2RldGVjdE1vYmlsZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInVybCIsIkZpcmVTdG9yZSIsImZldGNoIiwicmVzcG9uc2UiLCJqc29uIiwiaW5mb1RvU2F2ZSIsInNjb3JlcyIsIm5ld1Njb3JlcyIsImNvbmNhdCIsIl90b0NvbnN1bWFibGVBcnJheSIsInNvcnQiLCJpdGVtMSIsIml0ZW0yIiwic3BsaWNlIiwibWV0aG9kIiwiSlNPTiIsInN0cmluZ2lmeSIsImtuaWdodCIsInJvZ3VlIiwiZ29ibGluIiwiUm91dGVyIiwicm91dGVQYXJhbXMiLCJjdXJyZW50Um91dGUiLCJwcmV2aW91c1JvdXRlIiwiY3VycmVudFBhcmFtcyIsInByZXZpb3VzUGFyYW1zIiwiaGFuZGxlciIsImZpbmROZXdSb3V0ZSIsImxhdW5jaEhhbmRsZXJzIiwic2xpY2UiLCJlbGVtZW50IiwiUmVnRXhwIiwidGVzdCIsIlByb21pc2UiLCJyZXNvbHZlIiwib25CZWZvcmVFbnRlciJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUFBLElBQUFKLEVBQUFHLEdBQUEsQ0FBQSxJQUFBSixFQUFBSSxHQUFBLENBQUEsSUFBQUUsRUFBQSxtQkFBQUMsU0FBQUEsUUFBQSxJQUFBRixHQUFBQyxFQUFBLE9BQUFBLEVBQUFGLEdBQUEsR0FBQSxHQUFBSSxFQUFBLE9BQUFBLEVBQUFKLEdBQUEsR0FBQSxJQUFBSyxFQUFBLElBQUFDLE1BQUEsdUJBQUFOLEVBQUEsS0FBQSxNQUFBSyxFQUFBRSxLQUFBLG1CQUFBRixFQUFBLElBQUFHLEVB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a0siLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCBFbmVteSBmcm9tICcuL2VuZW15JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIER1bW15RW5lbXkgZXh0ZW5kcyBFbmVteSB7XHJcbiAgY29uc3RydWN0b3IoZ2FtZVN0YXRlKSB7XHJcbiAgICBzdXBlcihnYW1lU3RhdGUsICdnb2JsaW4nKTtcclxuICAgIHRoaXMud2lkdGggPSAzNjtcclxuICAgIHRoaXMuaGVpZ2h0ID0gNDg7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQZXJzb24gZnJvbSAnLi9wZXJzb24nO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW5lbXkgZXh0ZW5kcyBQZXJzb24ge1xyXG4gIGNvbnN0cnVjdG9yKGdhbWVTdGF0ZSwgc2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKGdhbWVTdGF0ZSwgc2VsZWN0b3IpO1xyXG4gICAgdGhpcy53aWR0aCA9IDA7XHJcbiAgICB0aGlzLmhlaWdodCA9IDA7XHJcbiAgICB0aGlzLmdlbmVyYXRlUG9zaXRpb24oKTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlUG9zaXRpb24oKSB7XHJcbiAgICBkbyB7XHJcbiAgICAgIHRoaXMucG9zaXRpb24gPSB7XHJcbiAgICAgICAgeDogTWF0aC5hYnModGhpcy53aWR0aCAtIHRoaXMuZ2FtZS53aWR0aCAqIE1hdGgucmFuZG9tKCkpLFxyXG4gICAgICAgIHk6ICh0aGlzLmdhbWUuaGVpZ2h0IC8gMikgKiBNYXRoLnJhbmRvbSgpXHJcbiAgICAgIH07XHJcbiAgICB9IHdoaWxlICh0aGlzLmdldERpc3RhbmNlVG9IZXJvKCkgPCAyMDApO1xyXG4gIH1cclxuICBnZXREaXN0YW5jZVRvSGVybygpIHtcclxuICAgIGxldCBoZXJvID0gdGhpcy5nYW1lLmhlcm87XHJcbiAgICByZXR1cm4gTWF0aC5zcXJ0KFxyXG4gICAgICBNYXRoLnBvdyhoZXJvLnBvc2l0aW9uLnggLSB0aGlzLnBvc2l0aW9uLngsIDIpICtcclxuICAgICAgICBNYXRoLnBvdyhoZXJvLnBvc2l0aW9uLnkgLSB0aGlzLnBvc2l0aW9uLnksIDIpXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGcnVpdCB7XHJcbiAgY29uc3RydWN0b3IoZ2FtZVN0YXRlKSB7XHJcbiAgICB0aGlzLndpZHRoID0gMzA7XHJcbiAgICB0aGlzLmhlaWdodCA9IDMwO1xyXG4gICAgdGhpcy5nYW1lID0gZ2FtZVN0YXRlO1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IHtcclxuICAgICAgeDogTWF0aC5hYnModGhpcy53aWR0aCAtIHRoaXMuZ2FtZS53aWR0aCAqIE1hdGgucmFuZG9tKCkpLFxyXG4gICAgICB5OiAodGhpcy5nYW1lLmhlaWdodCAvIDIpICogTWF0aC5yYW5kb20oKVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNwcml0ZSA9IHRoaXMuZ2VuZXJhdGVTcHRpdGUoKTtcclxuICB9XHJcbiAgZ2V0TmV4dFNwcml0ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnNwcml0ZTtcclxuICB9XHJcblxyXG4gIGdldCBwZXJzb25TdGF0ZSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IHRoaXMucG9zaXRpb24ueCxcclxuICAgICAgeTogdGhpcy5wb3NpdGlvbi55XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0IHBlcnNvblN0YXRlKG5ld1Bvc2l0aW9uKSB7XHJcbiAgICB0aGlzLnBvc2l0aW9uLnggPSBuZXdQb3NpdGlvbi54O1xyXG4gICAgdGhpcy5wb3NpdGlvbi55ID0gbmV3UG9zaXRpb24ueTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlU3B0aXRlKCkge1xyXG4gICAgbGV0IHNwcml0ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZnJ1aXQtaW1nJyk7XHJcbiAgICBsZXQgZnJ1aXROdW1iZXIgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoc3ByaXRlcy5sZW5ndGggLSAxKSk7XHJcbiAgICByZXR1cm4gc3ByaXRlc1tmcnVpdE51bWJlcl07XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBIZXJvIGZyb20gJy4vaGVybyc7XHJcbmltcG9ydCBEdW1teUVuZW15IGZyb20gJy4vZHVtbXlFbmVteSc7XHJcbmltcG9ydCBTbWFydEVuZW15IGZyb20gJy4vc21hcnRFbmVteSc7XHJcbmltcG9ydCBGaXJlU3RvcmUgZnJvbSAnLi4vdXRpbHMvZmlyZWJhc2UnO1xyXG5pbXBvcnQgRnJ1aXQgZnJvbSAnLi9mcnVpdCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lU3RhdGUge1xyXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRUb0RyYXcpIHtcclxuICAgIHRoaXMuZ2FtZU9uU2NyZWVuID0gZmFsc2U7XHJcbiAgICB0aGlzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGggPj0gMTAwMCA/IDEwMDAgOiB3aW5kb3cuaW5uZXJXaWR0aDtcclxuXHJcbiAgICB0aGlzLmhlaWdodCA9XHJcbiAgICAgIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KSAtXHJcbiAgICAgIDE2MDtcclxuXHJcbiAgICB0aGlzLmNvbnRhaW50ZXIgPSBlbGVtZW50VG9EcmF3O1xyXG4gICAgdGhpcy5zZXRVcEhlcm8oKTtcclxuICB9XHJcblxyXG4gIHNldFVwR2FtZSgpIHtcclxuICAgIHRoaXMuc2V0VXBDYW52YXMoKTtcclxuXHJcbiAgICB0aGlzLmhlcm8gPSBuZXcgSGVybyh0aGlzKTtcclxuXHJcbiAgICB0aGlzLnJlcGxheURhdGEgPSBbXTtcclxuICAgIHRoaXMuY2hhcmFjdGVycyA9IG5ldyBBcnJheSgyKS5maWxsKDApLm1hcCgoKSA9PiBuZXcgRHVtbXlFbmVteSh0aGlzKSk7XHJcbiAgICB0aGlzLmNoYXJhY3RlcnMucHVzaChuZXcgU21hcnRFbmVteSh0aGlzKSk7XHJcbiAgICB0aGlzLmZydWl0cyA9IFtdO1xyXG5cclxuICAgIHRoaXMubGV2ZWwgPSAxO1xyXG4gICAgdGhpcy5iYXNlU3BlZWQgPSAwO1xyXG4gICAgdGhpcy5nYW1lUGxheXMgPSBmYWxzZTtcclxuICAgIHRoaXMuZ2FtZVRpbWVyID0gMDtcclxuXHJcbiAgICB0aGlzLnRpbWVySGFuZGxlciA9IHNldEludGVydmFsKCgpID0+IHRoaXMuZ2FtZVN0ZXAoKSwgMTAwKTtcclxuICB9XHJcblxyXG4gIGdhbWVTdGVwKCkge1xyXG4gICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcblxyXG4gICAgdGhpcy5jb250ZXh0LmZvbnQgPSAnMjBweCBTZWdvZSBVSSc7XHJcbiAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQoXHJcbiAgICAgIGBTY29yZXMgJHt0aGlzLmdhbWVUaW1lciA/IHRoaXMuZ2V0U2NvcmUoKSA6IDB9YCxcclxuICAgICAgdGhpcy53aWR0aCAtIDE1MCxcclxuICAgICAgMzBcclxuICAgICk7XHJcbiAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQoYExldmVsICR7dGhpcy5sZXZlbH1gLCB0aGlzLndpZHRoIC0gMTUwLCA1NSk7XHJcblxyXG4gICAgbGV0IHN0ZXBEYXRhID0gW107XHJcbiAgICB0aGlzLmRyYXdDaGFyYWN0ZXIodGhpcy5oZXJvKTtcclxuXHJcbiAgICB0aGlzLmNoYXJhY3RlcnMuZm9yRWFjaChjaGFyYWN0ZXIgPT4ge1xyXG4gICAgICB0aGlzLmRyYXdDaGFyYWN0ZXIoY2hhcmFjdGVyKTtcclxuICAgICAgc3RlcERhdGEucHVzaCh7XHJcbiAgICAgICAgY2hhcmFjdGVyOiBjaGFyYWN0ZXIsXHJcbiAgICAgICAgc3RhdGU6IGNoYXJhY3Rlci5wZXJzb25TdGF0ZVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuZnJ1aXRzLmZvckVhY2goZnJ1aXQgPT4ge1xyXG4gICAgICB0aGlzLmRyYXdDaGFyYWN0ZXIoZnJ1aXQpO1xyXG4gICAgICBzdGVwRGF0YS5wdXNoKHtcclxuICAgICAgICBjaGFyYWN0ZXI6IGZydWl0LFxyXG4gICAgICAgIHN0YXRlOiBmcnVpdC5wZXJzb25TdGF0ZVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5mcnVpdHMgPSB0aGlzLmZydWl0cy5maWx0ZXIoZnJ1aXQgPT4ge1xyXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5jaGVja0NoYXJhY3RlcnNJbnRlcnNlY3Rpb24odGhpcy5oZXJvLCBmcnVpdCk7XHJcbiAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICB0aGlzLmhlcm8uZW5hYmxlUmFnZSgpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHN0ZXBEYXRhLnB1c2goe1xyXG4gICAgICBjaGFyYWN0ZXI6IHRoaXMuaGVybyxcclxuICAgICAgc3RhdGU6IHRoaXMuaGVyby5wZXJzb25TdGF0ZVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5nYW1lUGxheXMgJiYgdGhpcy5yZXBsYXlEYXRhLnB1c2goc3RlcERhdGEpO1xyXG5cclxuICAgIGlmICh0aGlzLmhlcm8ucmFnZU1vZGUpIHtcclxuICAgICAgdGhpcy5jaGFyYWN0ZXJzID0gdGhpcy5jaGFyYWN0ZXJzLmZpbHRlcihcclxuICAgICAgICBjaGFyYWN0ZXIgPT4gIXRoaXMuY2hlY2tDaGFyYWN0ZXJzSW50ZXJzZWN0aW9uKHRoaXMuaGVybywgY2hhcmFjdGVyKVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHRoaXMuY2hhcmFjdGVycy5zb21lKGNoYXJhY3RlciA9PlxyXG4gICAgICAgICAgdGhpcy5jaGVja0NoYXJhY3RlcnNJbnRlcnNlY3Rpb24odGhpcy5oZXJvLCBjaGFyYWN0ZXIpXHJcbiAgICAgICAgKVxyXG4gICAgICApIHtcclxuICAgICAgICB0aGlzLmxvc2VHYW1lKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRyYXdDaGFyYWN0ZXIoY2hhcmFjdGVyKSB7XHJcbiAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKFxyXG4gICAgICBjaGFyYWN0ZXIuZ2V0TmV4dFNwcml0ZSgpLFxyXG4gICAgICBjaGFyYWN0ZXIucG9zaXRpb24ueCxcclxuICAgICAgY2hhcmFjdGVyLnBvc2l0aW9uLnksXHJcbiAgICAgIGNoYXJhY3Rlci53aWR0aCxcclxuICAgICAgY2hhcmFjdGVyLmhlaWdodFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGdldFNjb3JlKCkge1xyXG4gICAgcmV0dXJuIE1hdGgucm91bmQoKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy5nYW1lVGltZXIpIC8gMTAwKSAvIDEwO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tDaGFyYWN0ZXJzSW50ZXJzZWN0aW9uKGhlcm8sIGVuZW15KSB7XHJcbiAgICBsZXQgZGVsdGFYID0gMjA7XHJcbiAgICBsZXQgZGVsdGFZID0gMjA7XHJcbiAgICBpZiAoXHJcbiAgICAgIGhlcm8ucG9zaXRpb24ueCArIGRlbHRhWCA8PSBlbmVteS5wb3NpdGlvbi54ICsgZW5lbXkud2lkdGggJiZcclxuICAgICAgaGVyby5wb3NpdGlvbi54ICsgaGVyby53aWR0aCA+PSBlbmVteS5wb3NpdGlvbi54ICsgZGVsdGFYICYmXHJcbiAgICAgIChoZXJvLnBvc2l0aW9uLnkgKyBkZWx0YVkgPD0gZW5lbXkucG9zaXRpb24ueSArIGVuZW15LmhlaWdodCAmJlxyXG4gICAgICAgIGhlcm8ucG9zaXRpb24ueSArIGhlcm8uaGVpZ2h0ID49IGVuZW15LnBvc2l0aW9uLnkgKyBkZWx0YVkpXHJcbiAgICApIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBydW5HYW1lKCkge1xyXG4gICAgdGhpcy5nYW1lVGltZXIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgIHRoaXMuZ2FtZVBsYXlzID0gdHJ1ZTtcclxuICAgIHRoaXMuYmFzZVNwZWVkID0gNTtcclxuICAgIHRoaXMuc2V0TGV2ZWwoKTtcclxuICB9XHJcblxyXG4gIGxvc2VHYW1lKCkge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuZW5kR2FtZSgpO1xyXG4gICAgICBsZXQgc2NvcmUgPSB0aGlzLmdldFNjb3JlKCk7XHJcbiAgICAgIGxldCBuYW1lID0gcHJvbXB0KFxyXG4gICAgICAgIGBZb3VyIHNjb3JlIGlzICR7c2NvcmV9IHNlY29uZHMuXFxuIEVudGVyIHlvdXIgbmFtZWAsXHJcbiAgICAgICAgJ0lcXCdtIEJhdG1hbidcclxuICAgICAgKTtcclxuICAgICAgbmFtZSAmJlxyXG4gICAgICAgIEZpcmVTdG9yZS5zYXZlU2NvcmUoe1xyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIHNjb3JlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHRoaXMuYWRkRW5kR2FtZUJ1dHRvbnMoKTtcclxuICAgIH0sIDApO1xyXG4gIH1cclxuXHJcbiAgZW5kR2FtZSgpIHtcclxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lckhhbmRsZXIpO1xyXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmxldmVsVGltZXIpO1xyXG4gICAgdGhpcy5nYW1lUGxheXMgPSBmYWxzZTtcclxuICAgIHRoaXMuYmFzZVNwZWVkID0gMDtcclxuICAgIHRoaXMuZ2FtZU9uU2NyZWVuID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBzZXRMZXZlbCgpIHtcclxuICAgIHRoaXMubGV2ZWxUaW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgdGhpcy5sZXZlbCArPSAxO1xyXG5cclxuICAgICAgdGhpcy5jaGFyYWN0ZXJzLnB1c2gobmV3IER1bW15RW5lbXkodGhpcykpO1xyXG4gICAgICBpZiAodGhpcy5sZXZlbCAlIDIgPT09IDEpIHtcclxuICAgICAgICB0aGlzLmNoYXJhY3RlcnMucHVzaChuZXcgU21hcnRFbmVteSh0aGlzKSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMubGV2ZWwgPj0gMykge1xyXG4gICAgICAgIHRoaXMuZnJ1aXRzLnB1c2gobmV3IEZydWl0KHRoaXMpKTtcclxuICAgICAgfVxyXG4gICAgICBsZXQgbWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBtZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2xldmVsLXVwJyk7XHJcbiAgICAgIG1lc3NhZ2UuaW5uZXJIVE1MID0gYExldmVsIFVwISBDdXJyZW50IGxldmVsIC0gJHt0aGlzLmxldmVsfWA7XHJcblxyXG4gICAgICB0aGlzLmNvbnRhaW50ZXIuYXBwZW5kQ2hpbGQobWVzc2FnZSk7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY29udGFpbnRlci5yZW1vdmVDaGlsZChtZXNzYWdlKTtcclxuICAgICAgfSwgMTAwMCk7XHJcbiAgICB9LCAxMDAwMCk7XHJcbiAgfVxyXG5cclxuICBhZGRFbmRHYW1lQnV0dG9ucygpIHtcclxuICAgIGxldCBkaXZGb3JCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBkaXZGb3JCdXR0b25zLmNsYXNzTGlzdC5hZGQoJ2VuZC1idXR0b25zJyk7XHJcblxyXG4gICAgbGV0IHJlcGxheUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgcmVwbGF5QnV0dG9uLmlubmVySFRNTCA9ICdXYXRjaCByZXBsYXknO1xyXG4gICAgcmVwbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICd3YXRjaHJlcGxheSc7XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgc3RhcnROZXdHYW1lQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICBzdGFydE5ld0dhbWVCdXR0b24uaW5uZXJIVE1MID0gJ1N0YXJ0IG5ldyBnYW1lJztcclxuICAgIHN0YXJ0TmV3R2FtZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSAnbmV3Z2FtZSc7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkaXZGb3JCdXR0b25zLmFwcGVuZENoaWxkKHJlcGxheUJ1dHRvbik7XHJcbiAgICBkaXZGb3JCdXR0b25zLmFwcGVuZENoaWxkKHN0YXJ0TmV3R2FtZUJ1dHRvbik7XHJcblxyXG4gICAgdGhpcy5jb250YWludGVyLmFwcGVuZENoaWxkKGRpdkZvckJ1dHRvbnMpO1xyXG4gIH1cclxuICBzZXRVcEhlcm8oKSB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnQgPT4ge1xyXG4gICAgICBpZiAodGhpcy5nYW1lT25TY3JlZW4pIHtcclxuICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcclxuICAgICAgICAgIGNhc2UgMzc6IHtcclxuICAgICAgICAgICAgdGhpcy5oZXJvLmRpcmVjdGlvbkFuZ2xlID0gTWF0aC5QSTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjYXNlIDM4OiB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVyby5kaXJlY3Rpb25BbmdsZSA9IE1hdGguUEkgLyAyO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNhc2UgMzk6IHtcclxuICAgICAgICAgICAgdGhpcy5oZXJvLmRpcmVjdGlvbkFuZ2xlID0gMDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjYXNlIDQwOiB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVyby5kaXJlY3Rpb25BbmdsZSA9IChNYXRoLlBJIC8gMikgKiAzO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuZ2FtZVBsYXlzKSB7XHJcbiAgICAgICAgICB0aGlzLnJ1bkdhbWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0VXBDYW52YXMoKSB7XHJcbiAgICB0aGlzLmdhbWVPblNjcmVlbiA9IHRydWU7XHJcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgdGhpcy5jb250YWludGVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgdGhpcy5jb250YWludGVyLmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtcclxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy53aWR0aDtcclxuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xyXG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICB9XHJcblxyXG4gIHJlcGxheUdhbWUoKSB7XHJcbiAgICBjbGVhckludGVydmFsKHRoaXMucmVwbGF5VGltZXIpO1xyXG4gICAgbGV0IGN1cnJlbnRTdGF0ZSA9IDA7XHJcbiAgICB0aGlzLnJlcGxheVRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICBpZiAoY3VycmVudFN0YXRlID49ICh0aGlzLnJlcGxheURhdGEgfHwgW10pLmxlbmd0aCkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZXBsYXlUaW1lcik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG5cclxuICAgICAgbGV0IHN0YXRlID0gdGhpcy5yZXBsYXlEYXRhW2N1cnJlbnRTdGF0ZV07XHJcbiAgICAgIHN0YXRlLmZvckVhY2goZGF0YSA9PiB7XHJcbiAgICAgICAgZGF0YS5jaGFyYWN0ZXIucGVyc29uU3RhdGUgPSBkYXRhLnN0YXRlO1xyXG4gICAgICAgIHRoaXMuZHJhd0NoYXJhY3RlcihkYXRhLmNoYXJhY3Rlcik7XHJcbiAgICAgIH0pO1xyXG4gICAgICBjdXJyZW50U3RhdGUrKztcclxuICAgIH0sIDIwKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBlcnNvbiBmcm9tICcuL3BlcnNvbic7XHJcbmltcG9ydCBpbWFnZVNvdXJjZSBmcm9tICcuLi91dGlscy9pbWFnZXNTb3VyY2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVybyBleHRlbmRzIFBlcnNvbiB7XHJcbiAgY29uc3RydWN0b3IoZ2FtZVN0YXRlKSB7XHJcbiAgICBzdXBlcihnYW1lU3RhdGUsICdrbmlnaHQnKTtcclxuICAgIHRoaXMud2lkdGggPSA1NTtcclxuICAgIHRoaXMuaGVpZ2h0ID0gNzU7XHJcbiAgICB0aGlzLnBvc2l0aW9uID0ge1xyXG4gICAgICB4OiAodGhpcy5nYW1lLndpZHRoIC0gdGhpcy53aWR0aCkgLyAyLFxyXG4gICAgICB5OiB0aGlzLmdhbWUuaGVpZ2h0IC0gdGhpcy5oZWlnaHRcclxuICAgIH07XHJcbiAgICB0aGlzLnJhZ2VNb2RlID0gZmFsc2U7XHJcbiAgICB0aGlzLnNwcml0ZXMgPSB0aGlzLnNwcml0ZXNDb2xsZWN0aW9uLmRvd247XHJcbiAgICB0aGlzLmRpcmVjdGlvbkFuZ2xlID0gTWF0aC5QSSAvIDI7XHJcbiAgfVxyXG5cclxuICBnZXRTcGVlZCgpIHtcclxuICAgIHRoaXMuc3BlZWQgPSB0aGlzLmdhbWUuYmFzZVNwZWVkICogdGhpcy5nYW1lLmxldmVsO1xyXG4gIH1cclxuICBlbmFibGVSYWdlKCkge1xyXG4gICAgdGhpcy5yYWdlTW9kZSA9IHRydWU7XHJcbiAgICB0aGlzLnNlbGVjdFNwcml0ZXNDb2xsZWN0aW9uKCk7XHJcbiAgICB0aGlzLmdhbWUuY2FudmFzLmNsYXNzTGlzdC5hZGQoJ3JhZ2UtY2FudmFzJyk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZ2FtZS5jYW52YXMuY2xhc3NMaXN0LnJlbW92ZSgncmFnZS1jYW52YXMnKSwgMzAwMCk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5yYWdlTW9kZSA9IGZhbHNlO1xyXG4gICAgICB0aGlzLnNlbGVjdFNwcml0ZXNDb2xsZWN0aW9uKCk7XHJcbiAgICB9LCAzNTAwKTtcclxuICB9XHJcblxyXG4gIGdldCBwZXJzb25TdGF0ZSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IHRoaXMucG9zaXRpb24ueCxcclxuICAgICAgeTogdGhpcy5wb3NpdGlvbi55LFxyXG4gICAgICBkaXJlY3Rpb25BbmdsZTogdGhpcy5kaXJlY3Rpb25BbmdsZSxcclxuICAgICAgcmFnZU1vZGU6IHRoaXMucmFnZU1vZGVcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXQgcGVyc29uU3RhdGUobmV3UG9zaXRpb24pIHtcclxuICAgIHRoaXMuZGlyZWN0aW9uQW5nbGUgPSBuZXdQb3NpdGlvbi5kaXJlY3Rpb25BbmdsZTtcclxuICAgIHRoaXMucG9zaXRpb24ueCA9IG5ld1Bvc2l0aW9uLng7XHJcbiAgICB0aGlzLnBvc2l0aW9uLnkgPSBuZXdQb3NpdGlvbi55O1xyXG4gICAgaWYgKHRoaXMucmFnZU1vZGUgIT09IG5ld1Bvc2l0aW9uLnJhZ2VNb2RlKSB7XHJcbiAgICAgIHRoaXMucmFnZU1vZGUgPSBuZXdQb3NpdGlvbi5yYWdlTW9kZTtcclxuICAgICAgdGhpcy5zcHJpdGVzQ29sbGVjdGlvbiA9IHRoaXMucmFnZU1vZGVcclxuICAgICAgICA/IHRoaXMuZnVyeVNwcml0ZXNDb2xsZWN0aW9uXHJcbiAgICAgICAgOiB0aGlzLm5vcm1hbFNwcml0ZXNDb2xsZXRjaW9uO1xyXG4gICAgICB0aGlzLnNlbGVjdFNwcml0ZXMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNlbGVjdFNwcml0ZXNDb2xsZWN0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMucmFnZU1vZGUgPT09IHRydWUpIHtcclxuICAgICAgdGhpcy53aWR0aCA9IDc1O1xyXG4gICAgICB0aGlzLnNwcml0ZXNDb2xsZWN0aW9uID0gdGhpcy5mdXJ5U3ByaXRlc0NvbGxlY3Rpb247XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLndpZHRoID0gNTU7XHJcbiAgICAgIHRoaXMuc3ByaXRlc0NvbGxlY3Rpb24gPSB0aGlzLm5vcm1hbFNwcml0ZXNDb2xsZXRjaW9uO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zZWxlY3RTcHJpdGVzKCk7XHJcbiAgfVxyXG5cclxuICBnZXRBbGxTcHJpdGVzKCkge1xyXG4gICAgdGhpcy5ub3JtYWxTcHJpdGVzQ29sbGV0Y2lvbiA9IHtcclxuICAgICAgbGVmdDogdGhpcy5nZXRTcHJpdGVzKGltYWdlU291cmNlW3RoaXMuc2VsZWN0b3JdLm5vcm1hbC5sZWZ0KSxcclxuICAgICAgcmlnaHQ6IHRoaXMuZ2V0U3ByaXRlcyhpbWFnZVNvdXJjZVt0aGlzLnNlbGVjdG9yXS5ub3JtYWwucmlnaHQpLFxyXG4gICAgICB1cDogdGhpcy5nZXRTcHJpdGVzKGltYWdlU291cmNlW3RoaXMuc2VsZWN0b3JdLm5vcm1hbC51cCksXHJcbiAgICAgIGRvd246IHRoaXMuZ2V0U3ByaXRlcyhpbWFnZVNvdXJjZVt0aGlzLnNlbGVjdG9yXS5ub3JtYWwuZG93bilcclxuICAgIH07XHJcbiAgICB0aGlzLnNwcml0ZXNDb2xsZWN0aW9uID0gdGhpcy5ub3JtYWxTcHJpdGVzQ29sbGV0Y2lvbjtcclxuICAgIHRoaXMuZnVyeVNwcml0ZXNDb2xsZWN0aW9uID0ge1xyXG4gICAgICBsZWZ0OiB0aGlzLmdldFNwcml0ZXMoaW1hZ2VTb3VyY2VbdGhpcy5zZWxlY3Rvcl0ucmFnZS5sZWZ0KSxcclxuICAgICAgcmlnaHQ6IHRoaXMuZ2V0U3ByaXRlcyhpbWFnZVNvdXJjZVt0aGlzLnNlbGVjdG9yXS5yYWdlLnJpZ2h0KSxcclxuICAgICAgdXA6IHRoaXMuZ2V0U3ByaXRlcyhpbWFnZVNvdXJjZVt0aGlzLnNlbGVjdG9yXS5yYWdlLnVwKSxcclxuICAgICAgZG93bjogdGhpcy5nZXRTcHJpdGVzKGltYWdlU291cmNlW3RoaXMuc2VsZWN0b3JdLnJhZ2UuZG93bilcclxuICAgIH07XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBpbWFnZVNvdXJjZSBmcm9tICcuLi91dGlscy9pbWFnZXNTb3VyY2UnO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQZXJzb24ge1xyXG4gIGNvbnN0cnVjdG9yKGdhbWVTdGF0ZSwgc2VsZWN0b3IpIHtcclxuICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcclxuICAgIHRoaXMuZ2V0QWxsU3ByaXRlcygpO1xyXG4gICAgdGhpcy5nYW1lID0gZ2FtZVN0YXRlO1xyXG4gICAgdGhpcy5kaXJlY3Rpb25BbmdsZSA9IDIgKiBNYXRoLlBJICogTWF0aC5yYW5kb20oKTtcclxuICAgIHRoaXMuc3BlZWQgPSAoZ2FtZVN0YXRlLmxldmVsICogZ2FtZVN0YXRlLmJhc2VTcGVlZCkgLyAyO1xyXG4gICAgdGhpcy5jdXJyZW50SW1nID0gMDtcclxuICB9XHJcbiAgc2VsZWN0U3ByaXRlcygpIHtcclxuICAgIGlmIChcclxuICAgICAgdGhpcy5kaXJlY3Rpb25BbmdsZSA+PSAoTWF0aC5QSSAqIDUpIC8gNCAmJlxyXG4gICAgICB0aGlzLmRpcmVjdGlvbkFuZ2xlIDw9IChNYXRoLlBJICogNykgLyA0XHJcbiAgICApIHtcclxuICAgICAgdGhpcy5zcHJpdGVzID0gdGhpcy5zcHJpdGVzQ29sbGVjdGlvbi5kb3duO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMuZGlyZWN0aW9uQW5nbGUgPj0gTWF0aC5QSSAvIDQgJiZcclxuICAgICAgdGhpcy5kaXJlY3Rpb25BbmdsZSA8PSAoTWF0aC5QSSAqIDMpIC8gNFxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMuc3ByaXRlcyA9IHRoaXMuc3ByaXRlc0NvbGxlY3Rpb24udXA7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChcclxuICAgICAgdGhpcy5kaXJlY3Rpb25BbmdsZSA+PSAoTWF0aC5QSSAqIDMpIC8gNCAmJlxyXG4gICAgICB0aGlzLmRpcmVjdGlvbkFuZ2xlIDw9IChNYXRoLlBJICogNSkgLyA0XHJcbiAgICApIHtcclxuICAgICAgdGhpcy5zcHJpdGVzID0gdGhpcy5zcHJpdGVzQ29sbGVjdGlvbi5sZWZ0O1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLnNwcml0ZXMgPSB0aGlzLnNwcml0ZXNDb2xsZWN0aW9uLnJpZ2h0O1xyXG4gIH1cclxuXHJcbiAgZ2V0IGRpcmVjdGlvbkFuZ2xlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RpcmVjdGlvbkFuZ2xlO1xyXG4gIH1cclxuXHJcbiAgc2V0IGRpcmVjdGlvbkFuZ2xlKG5ld1ZhbHVlKSB7XHJcbiAgICB0aGlzLl9kaXJlY3Rpb25BbmdsZSA9IG5ld1ZhbHVlO1xyXG4gICAgdGhpcy5zZWxlY3RTcHJpdGVzKCk7XHJcbiAgfVxyXG5cclxuICBnZXQgcGVyc29uU3RhdGUoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4OiB0aGlzLnBvc2l0aW9uLngsXHJcbiAgICAgIHk6IHRoaXMucG9zaXRpb24ueSxcclxuICAgICAgZGlyZWN0aW9uQW5nbGU6IHRoaXMuZGlyZWN0aW9uQW5nbGVcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXQgcGVyc29uU3RhdGUobmV3UG9zaXRpb24pIHtcclxuICAgIHRoaXMuZGlyZWN0aW9uQW5nbGUgPSBuZXdQb3NpdGlvbi5kaXJlY3Rpb25BbmdsZTtcclxuICAgIHRoaXMucG9zaXRpb24ueCA9IG5ld1Bvc2l0aW9uLng7XHJcbiAgICB0aGlzLnBvc2l0aW9uLnkgPSBuZXdQb3NpdGlvbi55O1xyXG4gIH1cclxuXHJcbiAgZ2V0QWxsU3ByaXRlcygpIHtcclxuICAgIHRoaXMuc3ByaXRlc0NvbGxlY3Rpb24gPSB7XHJcbiAgICAgIGxlZnQ6IHRoaXMuZ2V0U3ByaXRlcyhpbWFnZVNvdXJjZVt0aGlzLnNlbGVjdG9yXS5sZWZ0KSxcclxuICAgICAgcmlnaHQ6IHRoaXMuZ2V0U3ByaXRlcyhpbWFnZVNvdXJjZVt0aGlzLnNlbGVjdG9yXS5yaWdodCksXHJcbiAgICAgIHVwOiB0aGlzLmdldFNwcml0ZXMoaW1hZ2VTb3VyY2VbdGhpcy5zZWxlY3Rvcl0udXApLFxyXG4gICAgICBkb3duOiB0aGlzLmdldFNwcml0ZXMoaW1hZ2VTb3VyY2VbdGhpcy5zZWxlY3Rvcl0uZG93bilcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBnZXRTcHJpdGVzKGltYWdlcykge1xyXG4gICAgcmV0dXJuIGltYWdlcy5tYXAoc3JjID0+IHtcclxuICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICBpbWcuc3JjID0gc3JjO1xyXG4gICAgICByZXR1cm4gaW1nO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGdldE5leHRTcHJpdGUoKSB7XHJcbiAgICB0aGlzLnN0ZXAoKTtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRJbWcgPj0gdGhpcy5zcHJpdGVzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRJbWcgPSAwO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuc3ByaXRlc1t0aGlzLmN1cnJlbnRJbWcrK107XHJcbiAgfVxyXG5cclxuICBzdGVwKCkge1xyXG4gICAgdGhpcy5nZXRTcGVlZCgpO1xyXG4gICAgdGhpcy5wb3NpdGlvbi54ICs9IE1hdGguY29zKHRoaXMuZGlyZWN0aW9uQW5nbGUpICogdGhpcy5zcGVlZDtcclxuICAgIGlmICh0aGlzLnBvc2l0aW9uLnggKyB0aGlzLndpZHRoIC8gMiA+IHRoaXMuZ2FtZS53aWR0aCkge1xyXG4gICAgICB0aGlzLnBvc2l0aW9uLnggPSAtdGhpcy53aWR0aCAvIDI7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5wb3NpdGlvbi54ICsgdGhpcy53aWR0aCAvIDIgPCAwKSB7XHJcbiAgICAgIHRoaXMucG9zaXRpb24ueCA9IHRoaXMuZ2FtZS53aWR0aCAtIHRoaXMud2lkdGggLyAyO1xyXG4gICAgfVxyXG4gICAgdGhpcy5wb3NpdGlvbi55IC09IE1hdGguc2luKHRoaXMuZGlyZWN0aW9uQW5nbGUpICogdGhpcy5zcGVlZDtcclxuICAgIGlmICh0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLmhlaWdodCAvIDIgPiB0aGlzLmdhbWUuaGVpZ2h0KSB7XHJcbiAgICAgIHRoaXMucG9zaXRpb24ueSA9IC10aGlzLmhlaWdodCAvIDI7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5wb3NpdGlvbi55ICsgdGhpcy5oZWlnaHQgLyAyIDwgMCkge1xyXG4gICAgICB0aGlzLnBvc2l0aW9uLnkgPSB0aGlzLmdhbWUuaGVpZ2h0IC0gdGhpcy5oZWlnaHQgLyAyO1xyXG4gICAgfVxyXG4gIH1cclxuICBnZXRTcGVlZCgpIHtcclxuICAgIHRoaXMuc3BlZWQgPSAodGhpcy5nYW1lLmJhc2VTcGVlZCAqIHRoaXMuZ2FtZS5sZXZlbCkgLyAyO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgRW5lbXkgZnJvbSAnLi9lbmVteSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTbWFydEVuZW15IGV4dGVuZHMgRW5lbXkge1xyXG4gIGNvbnN0cnVjdG9yKGdhbWVTdGF0ZSkge1xyXG4gICAgc3VwZXIoZ2FtZVN0YXRlLCAncm9ndWUnKTtcclxuICAgIHRoaXMucmFuZ2UgPSAzMDA7XHJcbiAgICB0aGlzLndpZHRoID0gNDA7XHJcbiAgICB0aGlzLmhlaWdodCA9IDQ1O1xyXG4gIH1cclxuICBzdGVwKCkge1xyXG4gICAgbGV0IGhlcm9Qb3NpdGlvbiA9IHRoaXMuZ2FtZS5oZXJvLnBvc2l0aW9uO1xyXG4gICAgbGV0IGVuZW15UG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uO1xyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLmdldERpc3RhbmNlVG9IZXJvKCkgPD0gdGhpcy5yYW5nZSAmJlxyXG4gICAgICBoZXJvUG9zaXRpb24ueCAhPT0gZW5lbXlQb3NpdGlvbi54XHJcbiAgICApIHtcclxuICAgICAgbGV0IGF0YW4gPSBNYXRoLmF0YW4oXHJcbiAgICAgICAgKGhlcm9Qb3NpdGlvbi55IC0gZW5lbXlQb3NpdGlvbi55KSAvIChoZXJvUG9zaXRpb24ueCAtIGVuZW15UG9zaXRpb24ueClcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICAoaGVyb1Bvc2l0aW9uLnggPiBlbmVteVBvc2l0aW9uLnggJiZcclxuICAgICAgICAgIGhlcm9Qb3NpdGlvbi55IDwgZW5lbXlQb3NpdGlvbi55KSB8fFxyXG4gICAgICAgIChoZXJvUG9zaXRpb24ueCA+IGVuZW15UG9zaXRpb24ueCAmJiBoZXJvUG9zaXRpb24ueSA+IGVuZW15UG9zaXRpb24ueSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb25BbmdsZSA9IDIgKiBNYXRoLlBJIC0gYXRhbjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbkFuZ2xlID0gTWF0aC5QSSAtIGF0YW47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHN1cGVyLnN0ZXAoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFJvdXRlciBmcm9tICcuL3V0aWxzL3JvdXRlcic7XHJcbmltcG9ydCByb3V0ZXMgZnJvbSAnLi9yb3V0ZXMnO1xyXG5pbXBvcnQgYWRkQnV0dG9uc0Zvck1vYmlsZSBmcm9tICcuL3V0aWxzL2FkZEJ1dHRvbnNGb3JNb2JpbGUnO1xyXG5cclxuYWRkQnV0dG9uc0Zvck1vYmlsZSgpO1xyXG5uZXcgUm91dGVyKHJvdXRlcyk7XHJcbiIsImltcG9ydCBHYW1lU3RhdGUgZnJvbSAnLi9nYW1lT2JqZWN0cy9nYW1lU3RhdGUnO1xyXG5pbXBvcnQgRmlyZVN0b3JlIGZyb20gJy4vdXRpbHMvZmlyZWJhc2UnO1xyXG5cclxubGV0IGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpO1xyXG5sZXQgZ2FtZSA9IG5ldyBHYW1lU3RhdGUoY29udGVudCk7XHJcblxyXG5jb25zdCByb3V0ZXMgPSBbXHJcbiAge1xyXG4gICAgbWF0Y2g6ICcnLFxyXG4gICAgb25FbnRlcjogKCkgPT4ge1xyXG4gICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICdnYW1lJztcclxuICAgIH1cclxuICB9LFxyXG4gIHtcclxuICAgIG1hdGNoOiAnYWJvdXQnLFxyXG4gICAgb25FbnRlcjogKCkgPT4ge1xyXG4gICAgICBjaGFuZ2VBY3RpdmVQYWdlKCdhYm91dCcpO1xyXG4gICAgICBjb250ZW50LmlubmVySFRNTCA9IGA8aDE+XHJcbiAgICAgICAgICAgICA8c3Bhbj5TdXBlciBhcmNhZGUgZ2FtZTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9oMT5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctMTAwXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8aDI+QXV0aG9yXHJcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9jaXRyaW5pblwiPkthdGUgS3V6a2luYTwvYT5cclxuICAgICAgICAgICAgICAgIDwvaDI+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWJvdXRcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuPlRoaXMgaXMgYW4gYXJjYWRlIGdhbWUgd2hlcmUgWW91IHdpbGwgcGxheSBhcyBrbmlnaHQuPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJrbmlnaHQva25pZ2h0X3J1bl9kb3duXzAwMC5wbmdcIiAvPiA8YnIvPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+WW91IGNhbiBjb250cm9sIGtuaWdodCB3aXRoIGFycm93IGtleXMgb3IgaWYgeW91IHBsYXkgb24gbW9iaWxlIHBob25lIHdpdGggYnV0dG9ucyBvbiBzY3JlZW4uPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPGJyLz4gXHJcbiAgICAgICAgICAgICAgICA8c3Bhbj5Zb3VyIGdvYWwgaXMgdG8gc3RheSBhbGl2ZSBhcyBsb25nIGFzIHBvc3NpYmxlIGRlc3BpdGUgdGhlIGVuZW1pZXMgdGhhdCB3YW50IHRvIGtpbGwgWW91LiA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8YnIvPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+VGhpcyBpcyBHb2JsaW4g4oCTIGR1bW15IGVuZW15LiA8aW1nIHNyYz1cImdvYmxpbi9nb2JsaW5fcnVuX2Rvd25fMDAwLnBuZ1wiIHdpZHRoPVwiMzVcIiAvPiBcclxuICAgICAgICAgICAgICAgIEhlIHdpbGwgcnVuIGluIHJhbmRvbSBkaXJlY3Rpb24gYWxsIHRoZSB0aW1lLiA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8YnIvPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+VGhpcyBpcyBSb2d1ZSDigJMgc21hcnQgZW5lbXkuICA8aW1nIHNyYz1cInJvZ3VlL3JvZ3VlX3J1bl9kb3duXzAwMC5wbmdcIiB3aWR0aD1cIjQwXCIgLz5IZSB3aWxsIGFsc28gcnVuIGluIHJhbmRvbSBkaXJlY3Rpb25cclxuICAgICAgICAgICAgICAgIGJ1dCBpZiBoZSB3aWxsIHNlZSBZb3UgYXJvdW5kIOKAkyBoZSB3aWxsIGNoYXNlIHlvdSB0aWxsIHlvdSByYW4gYXdheS48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8YnIvPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+IFNvbWV0aW1lcyBvbiB0aGUgc2NyZWVuIGNhbiBhcHBlYXIgZnJ1aXRzLlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJmb29kL0FwcGxlLnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJmb29kL0F2b2NhZG8ucG5nXCI+XHJcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImZvb2QvQ2hlcnJ5LnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJmb29kL0xlbW9uLnBuZ1wiPlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJmb29kL01lbG9uV2F0ZXIucG5nXCI+XHJcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImZvb2QvUGVhY2gucG5nXCI+XHJcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImZvb2QvU3RyYXdiZXJyeS5wbmdcIj5cclxuICAgICAgICAgICAgICAgIFRoZXkgd2lsbCBnaXZlIHlvdSBwb3dlciB0byBmaWdodCB3aXRoIGVuZW1pZXMsIGJ1dCBvbmx5IGZvciAzIHNlY29uZHMuPHNwYW4+PGJyLz5cclxuICAgICAgICAgICAgICAgIDxzcGFuPkdvb2QgbHVjayE8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PmA7XHJcbiAgICB9XHJcbiAgfSxcclxuICB7XHJcbiAgICBtYXRjaDogJ2dhbWUnLFxyXG4gICAgb25FbnRlcjogKCkgPT4ge1xyXG4gICAgICBjaGFuZ2VBY3RpdmVQYWdlKCdnYW1lJyk7XHJcbiAgICAgIGdhbWUuc2V0VXBHYW1lKCk7XHJcbiAgICB9LFxyXG4gICAgb25MZWF2ZTogKCkgPT4ge1xyXG4gICAgICBnYW1lLmVuZEdhbWUoKTtcclxuICAgIH1cclxuICB9LFxyXG4gIHtcclxuICAgIG1hdGNoOiAnc2NvcmVzJyxcclxuICAgIG9uRW50ZXI6ICgpID0+IHtcclxuICAgICAgY2hhbmdlQWN0aXZlUGFnZSgnc2NvcmVzJyk7XHJcblxyXG4gICAgICBGaXJlU3RvcmUuZ2V0U2NvcmVzKCkudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJzxoMSBjbGFzcz1cImFib3V0XCI+PHNwYW4+U2NvcmVzPC9zcGFuPjwvaDE+JztcclxuICAgICAgICBsZXQgb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvbCcpO1xyXG4gICAgICAgIHJlc3VsdC5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgbGV0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgICAgIGxpLmlubmVySFRNTCA9IGAke2l0ZW0ubmFtZX0gLSAke2l0ZW0uc2NvcmV9YDtcclxuICAgICAgICAgIG9sLmFwcGVuZENoaWxkKGxpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IGRpdkZvckRpdmlzaW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGl2Rm9yRGl2aXNpb24uY2xhc3NMaXN0LmFkZCgndy0xMDAnKTtcclxuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGRpdkZvckRpdmlzaW9uKTtcclxuICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKG9sKTtcclxuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAge1xyXG4gICAgbWF0Y2g6ICdyZXBsYXknLFxyXG4gICAgb25FbnRlcjogKCkgPT4ge1xyXG4gICAgICBpZiAoKGdhbWUucmVwbGF5RGF0YSB8fCBbXSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSAnZ2FtZSc7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGdhbWUucmVwbGF5R2FtZSgpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAge1xyXG4gICAgbWF0Y2g6ICd3YXRjaHJlcGxheScsXHJcbiAgICBvbkVudGVyOiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJ3JlcGxheSc7XHJcbiAgICB9XHJcbiAgfSxcclxuICB7XHJcbiAgICBtYXRjaDogJ25ld2dhbWUnLFxyXG4gICAgb25FbnRlcjogKCkgPT4ge1xyXG4gICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICdnYW1lJztcclxuICAgIH1cclxuICB9XHJcbl07XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VBY3RpdmVQYWdlKG5ld1BhZ2UpIHtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJykuY2xhc3NOYW1lID0gJyc7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2hyZWY9XCIjJHtuZXdQYWdlfVwiXWApLnBhcmVudEVsZW1lbnQuY2xhc3NOYW1lID1cclxuICAgICdhY3RpdmUnO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXM7XHJcbiIsImltcG9ydCBkZXRlY3RNb2JpbGUgZnJvbSAnLi9kZXRlY3RNb2JpbGUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkQnV0dG9uc0Zvck1vYmlsZSgpIHtcclxuICBpZiAoZGV0ZWN0TW9iaWxlKCkpIHtcclxuICAgIHZhciBkaXZGb3JCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBkaXZGb3JCdXR0b25zLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbnMnKTtcclxuXHJcbiAgICB2YXIgYnV0dG9uTGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgYnV0dG9uTGVmdC5pbm5lckhUTUwgPSAnPCc7XHJcbiAgICBidXR0b25MZWZ0LmNsYXNzTGlzdC5hZGQoJ2xlZnQnKTtcclxuXHJcbiAgICB2YXIgYnV0dG9uVXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgIGJ1dHRvblVwLmlubmVySFRNTCA9ICdeJztcclxuICAgIGJ1dHRvblVwLmNsYXNzTGlzdC5hZGQoJ3VwJyk7XHJcblxyXG4gICAgdmFyIGJ1dHRvblJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICBidXR0b25SaWdodC5pbm5lckhUTUwgPSAnPic7XHJcbiAgICBidXR0b25SaWdodC5jbGFzc0xpc3QuYWRkKCdyaWdodCcpO1xyXG5cclxuICAgIHZhciBidXR0b25Eb3duID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICBidXR0b25Eb3duLmlubmVySFRNTCA9ICd2JztcclxuICAgIGJ1dHRvbkRvd24uY2xhc3NMaXN0LmFkZCgnZG93bicpO1xyXG5cclxuICAgIGRpdkZvckJ1dHRvbnMuYXBwZW5kQ2hpbGQoYnV0dG9uTGVmdCk7XHJcbiAgICBkaXZGb3JCdXR0b25zLmFwcGVuZENoaWxkKGJ1dHRvblVwKTtcclxuICAgIGRpdkZvckJ1dHRvbnMuYXBwZW5kQ2hpbGQoYnV0dG9uUmlnaHQpO1xyXG4gICAgZGl2Rm9yQnV0dG9ucy5hcHBlbmRDaGlsZChidXR0b25Eb3duKTtcclxuXHJcbiAgICBkaXZGb3JCdXR0b25zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4ge1xyXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoJy5yaWdodCcpKSB7XHJcbiAgICAgICAgbGV0IGUgPSBuZXcgRXZlbnQoJ2tleWRvd24nKTtcclxuICAgICAgICBlLmtleUNvZGUgPSAzOTtcclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGUpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0Lm1hdGNoZXMoJy5sZWZ0JykpIHtcclxuICAgICAgICBsZXQgZSA9IG5ldyBFdmVudCgna2V5ZG93bicpO1xyXG4gICAgICAgIGUua2V5Q29kZSA9IDM3O1xyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChldmVudC50YXJnZXQubWF0Y2hlcygnLnVwJykpIHtcclxuICAgICAgICBsZXQgZSA9IG5ldyBFdmVudCgna2V5ZG93bicpO1xyXG4gICAgICAgIGUua2V5Q29kZSA9IDM4O1xyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChldmVudC50YXJnZXQubWF0Y2hlcygnLmRvd24nKSkge1xyXG4gICAgICAgIGxldCBlID0gbmV3IEV2ZW50KCdrZXlkb3duJyk7XHJcbiAgICAgICAgZS5rZXlDb2RlID0gNDA7XHJcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2Rm9yQnV0dG9ucyk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRldGVjdG1vYmlsZSgpIHtcclxuICBpZiAoXHJcbiAgICBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkL2kpIHx8XHJcbiAgICBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC93ZWJPUy9pKSB8fFxyXG4gICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBob25lL2kpIHx8XHJcbiAgICBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGFkL2kpIHx8XHJcbiAgICBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUG9kL2kpIHx8XHJcbiAgICBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9CbGFja0JlcnJ5L2kpIHx8XHJcbiAgICBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9XaW5kb3dzIFBob25lL2kpXHJcbiAgKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG4iLCJsZXQgdXJsID0gJ2h0dHBzOi8va2F0ZS1hcmNhZGUtZ2FtZS5maXJlYmFzZWlvLmNvbS8uanNvbic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGaXJlU3RvcmUge1xyXG4gIHN0YXRpYyBnZXRTY29yZXMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godXJsKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSk7XHJcbiAgfVxyXG4gIHN0YXRpYyBzYXZlU2NvcmUoaW5mb1RvU2F2ZSkge1xyXG4gICAgdGhpcy5nZXRTY29yZXMoKS50aGVuKHNjb3JlcyA9PiB7XHJcbiAgICAgIGxldCBuZXdTY29yZXMgPSBbLi4uKHNjb3JlcyB8fCBbXSksIGluZm9Ub1NhdmVdO1xyXG4gICAgICBuZXdTY29yZXMuc29ydChcclxuICAgICAgICAoaXRlbTEsIGl0ZW0yKSA9PlxyXG4gICAgICAgICAgaXRlbTEuc2NvcmUgPiBpdGVtMi5zY29yZSA/IC0xIDogaXRlbTEuc2NvcmUgPCBpdGVtMi5zY29yZSA/IDEgOiAwXHJcbiAgICAgICk7XHJcbiAgICAgIG5ld1Njb3Jlcy5zcGxpY2UoMTApO1xyXG4gICAgICBmZXRjaCh1cmwsIHtcclxuICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG5ld1Njb3JlcylcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiY29uc3QgaW1hZ2VzU291cmNlID0ge1xyXG4gIGtuaWdodDoge1xyXG4gICAgbm9ybWFsOiB7XHJcbiAgICAgIHVwOiBbXHJcbiAgICAgICAgJyBrbmlnaHQva25pZ2h0X3J1bl91cF8wMDAucG5nJyxcclxuICAgICAgICAna25pZ2h0L2tuaWdodF9ydW5fdXBfMDAxLnBuZycsXHJcbiAgICAgICAgJ2tuaWdodC9rbmlnaHRfcnVuX3VwXzAwMi5wbmcnLFxyXG4gICAgICAgICdrbmlnaHQva25pZ2h0X3J1bl91cF8wMDMucG5nJyxcclxuICAgICAgICAna25pZ2h0L2tuaWdodF9ydW5fdXBfMDA0LnBuZydcclxuICAgICAgXSxcclxuICAgICAgcmlnaHQ6IFtcclxuICAgICAgICAna25pZ2h0L2tuaWdodF9ydW5fcmlnaHRfMDAwLnBuZycsXHJcbiAgICAgICAgJ2tuaWdodC9rbmlnaHRfcnVuX3JpZ2h0XzAwMS5wbmcnLFxyXG4gICAgICAgICdrbmlnaHQva25pZ2h0X3J1bl9yaWdodF8wMDIucG5nJyxcclxuICAgICAgICAna25pZ2h0L2tuaWdodF9ydW5fcmlnaHRfMDAzLnBuZycsXHJcbiAgICAgICAgJ2tuaWdodC9rbmlnaHRfcnVuX3JpZ2h0XzAwNC5wbmcnLFxyXG4gICAgICAgICdrbmlnaHQva25pZ2h0X3J1bl9yaWdodF8wMDUucG5nJ1xyXG4gICAgICBdLFxyXG4gICAgICBkb3duOiBbXHJcbiAgICAgICAgJ2tuaWdodC9rbmlnaHRfcnVuX2Rvd25fMDAwLnBuZycsXHJcbiAgICAgICAgJ2tuaWdodC9rbmlnaHRfcnVuX2Rvd25fMDAxLnBuZycsXHJcbiAgICAgICAgJ2tuaWdodC9rbmlnaHRfcnVuX2Rvd25fMDAyLnBuZycsXHJcbiAgICAgICAgJ2tuaWdodC9rbmlnaHRfcnVuX2Rvd25fMDAzLnBuZycsXHJcbiAgICAgICAgJ2tuaWdodC9rbmlnaHRfcnVuX2Rvd25fMDA0LnBuZydcclxuICAgICAgXSxcclxuICAgICAgbGVmdDogW1xyXG4gICAgICAgICdrbmlnaHQva25pZ2h0X3J1bl9sZWZ0XzAwMC5wbmcnLFxyXG4gICAgICAgICdrbmlnaHQva25pZ2h0X3J1bl9sZWZ0XzAwMS5wbmcnLFxyXG4gICAgICAgICdrbmlnaHQva25pZ2h0X3J1bl9sZWZ0XzAwMi5wbmcnLFxyXG4gICAgICAgICdrbmlnaHQva25pZ2h0X3J1bl9sZWZ0XzAwMy5wbmcnLFxyXG4gICAgICAgICdrbmlnaHQva25pZ2h0X3J1bl9sZWZ0XzAwNC5wbmcnLFxyXG4gICAgICAgICdrbmlnaHQva25pZ2h0X3J1bl9sZWZ0XzAwNS5wbmcnXHJcbiAgICAgIF1cclxuICAgIH0sXHJcbiAgICByYWdlOiB7XHJcbiAgICAgIHVwOiBbXHJcbiAgICAgICAgJ2tuaWdodC9rbmlnaHRfa2lsbHNfdXBfMDAwLnBuZycsXHJcbiAgICAgICAgJ2tuaWdodC9rbmlnaHRfa2lsbHNfdXBfMDAxLnBuZycsXHJcbiAgICAgICAgJ2tuaWdodC9rbmlnaHRfa2lsbHNfdXBfMDAyLnBuZydcclxuICAgICAgXSxcclxuICAgICAgcmlnaHQ6IFtcclxuICAgICAgICAna25pZ2h0L2tuaWdodF9raWxsc19yaWdodF8wMDAucG5nJyxcclxuICAgICAgICAna25pZ2h0L2tuaWdodF9raWxsc19yaWdodF8wMDEucG5nJyxcclxuICAgICAgICAna25pZ2h0L2tuaWdodF9raWxsc19yaWdodF8wMDIucG5nJ1xyXG4gICAgICBdLFxyXG4gICAgICBkb3duOiBbXHJcbiAgICAgICAgJ2tuaWdodC9rbmlnaHRfa2lsbHNfZG93bl8wMDAucG5nJyxcclxuICAgICAgICAna25pZ2h0L2tuaWdodF9raWxsc19kb3duXzAwMS5wbmcnLFxyXG4gICAgICAgICdrbmlnaHQva25pZ2h0X2tpbGxzX2Rvd25fMDAyLnBuZydcclxuICAgICAgXSxcclxuICAgICAgbGVmdDogW1xyXG4gICAgICAgICdrbmlnaHQva25pZ2h0X2tpbGxzX2xlZnRfMDAwLnBuZycsXHJcbiAgICAgICAgJ2tuaWdodC9rbmlnaHRfa2lsbHNfbGVmdF8wMDEucG5nJyxcclxuICAgICAgICAna25pZ2h0L2tuaWdodF9raWxsc19sZWZ0XzAwMi5wbmcnXHJcbiAgICAgIF1cclxuICAgIH1cclxuICB9LFxyXG4gIHJvZ3VlOiB7XHJcbiAgICB1cDogW1xyXG4gICAgICAncm9ndWUvcm9ndWVfcnVuX3VwXzAwMC5wbmcnLFxyXG4gICAgICAncm9ndWUvcm9ndWVfcnVuX3VwXzAwMS5wbmcnLFxyXG4gICAgICAncm9ndWUvcm9ndWVfcnVuX3VwXzAwMi5wbmcnLFxyXG4gICAgICAncm9ndWUvcm9ndWVfcnVuX3VwXzAwMy5wbmcnXHJcbiAgICBdLFxyXG4gICAgcmlnaHQ6IFtcclxuICAgICAgJ3JvZ3VlL3JvZ3VlX3J1bl9yaWdodF8wMDAucG5nJyxcclxuICAgICAgJ3JvZ3VlL3JvZ3VlX3J1bl9yaWdodF8wMDEucG5nJyxcclxuICAgICAgJ3JvZ3VlL3JvZ3VlX3J1bl9yaWdodF8wMDIucG5nJyxcclxuICAgICAgJ3JvZ3VlL3JvZ3VlX3J1bl9yaWdodF8wMDMucG5nJyxcclxuICAgICAgJ3JvZ3VlL3JvZ3VlX3J1bl9yaWdodF8wMDQucG5nJyxcclxuICAgICAgJ3JvZ3VlL3JvZ3VlX3J1bl9yaWdodF8wMDUucG5nJ1xyXG4gICAgXSxcclxuICAgIGRvd246IFtcclxuICAgICAgJ3JvZ3VlL3JvZ3VlX3J1bl9kb3duXzAwMC5wbmcnLFxyXG4gICAgICAncm9ndWUvcm9ndWVfcnVuX2Rvd25fMDAxLnBuZycsXHJcbiAgICAgICdyb2d1ZS9yb2d1ZV9ydW5fZG93bl8wMDIucG5nJyxcclxuICAgICAgJ3JvZ3VlL3JvZ3VlX3J1bl9kb3duXzAwMy5wbmcnXHJcbiAgICBdLFxyXG4gICAgbGVmdDogW1xyXG4gICAgICAncm9ndWUvcm9ndWVfcnVuX2xlZnRfMDAwLnBuZycsXHJcbiAgICAgICdyb2d1ZS9yb2d1ZV9ydW5fbGVmdF8wMDEucG5nJyxcclxuICAgICAgJ3JvZ3VlL3JvZ3VlX3J1bl9sZWZ0XzAwMi5wbmcnLFxyXG4gICAgICAncm9ndWUvcm9ndWVfcnVuX2xlZnRfMDAzLnBuZycsXHJcbiAgICAgICdyb2d1ZS9yb2d1ZV9ydW5fbGVmdF8wMDQucG5nJyxcclxuICAgICAgJ3JvZ3VlL3JvZ3VlX3J1bl9sZWZ0XzAwNS5wbmcnXHJcbiAgICBdXHJcbiAgfSxcclxuICBnb2JsaW46IHtcclxuICAgIHVwOiBbXHJcbiAgICAgICdnb2JsaW4vZ29ibGluX3J1bl91cF8wMDAucG5nJyxcclxuICAgICAgJ2dvYmxpbi9nb2JsaW5fcnVuX3VwXzAwMS5wbmcnLFxyXG4gICAgICAnZ29ibGluL2dvYmxpbl9ydW5fdXBfMDAyLnBuZycsXHJcbiAgICAgICdnb2JsaW4vZ29ibGluX3J1bl91cF8wMDMucG5nJ1xyXG4gICAgXSxcclxuICAgIHJpZ2h0OiBbXHJcbiAgICAgICdnb2JsaW4vZ29ibGluX3J1bl9yaWdodF8wMDAucG5nJyxcclxuICAgICAgJ2dvYmxpbi9nb2JsaW5fcnVuX3JpZ2h0XzAwMS5wbmcnLFxyXG4gICAgICAnZ29ibGluL2dvYmxpbl9ydW5fcmlnaHRfMDAyLnBuZycsXHJcbiAgICAgICdnb2JsaW4vZ29ibGluX3J1bl9yaWdodF8wMDMucG5nJyxcclxuICAgICAgJ2dvYmxpbi9nb2JsaW5fcnVuX3JpZ2h0XzAwNC5wbmcnLFxyXG4gICAgICAnZ29ibGluL2dvYmxpbl9ydW5fcmlnaHRfMDA1LnBuZydcclxuICAgIF0sXHJcbiAgICBkb3duOiBbXHJcbiAgICAgICdnb2JsaW4vZ29ibGluX3J1bl9kb3duXzAwMC5wbmcnLFxyXG4gICAgICAnZ29ibGluL2dvYmxpbl9ydW5fZG93bl8wMDEucG5nJyxcclxuICAgICAgJ2dvYmxpbi9nb2JsaW5fcnVuX2Rvd25fMDAyLnBuZycsXHJcbiAgICAgICdnb2JsaW4vZ29ibGluX3J1bl9kb3duXzAwMy5wbmcnXHJcbiAgICBdLFxyXG4gICAgbGVmdDogW1xyXG4gICAgICAnZ29ibGluL2dvYmxpbl9ydW5fbGVmdF8wMDAucG5nJyxcclxuICAgICAgJ2dvYmxpbi9nb2JsaW5fcnVuX2xlZnRfMDAxLnBuZycsXHJcbiAgICAgICdnb2JsaW4vZ29ibGluX3J1bl9sZWZ0XzAwMi5wbmcnLFxyXG4gICAgICAnZ29ibGluL2dvYmxpbl9ydW5fbGVmdF8wMDMucG5nJyxcclxuICAgICAgJ2dvYmxpbi9nb2JsaW5fcnVuX2xlZnRfMDA0LnBuZycsXHJcbiAgICAgICdnb2JsaW4vZ29ibGluX3J1bl9sZWZ0XzAwNS5wbmcnXHJcbiAgICBdXHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgaW1hZ2VzU291cmNlO1xyXG4iLCIvKipcclxuICog0KTRg9C90LrRhtC40Y8g0LTQu9GPINC00L7QsdCw0LLQu9C10L3QuNGPINC4INC+0LHRgNCw0LHQvtGC0LrQuCDRgNC+0YPRgtC+0LIg0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbiAqIEBwYXJhbSB7Kn0gcm91dGVQYXJhbXMg0LzQsNGB0YHQuNCyINC/0LDRgNCw0LzQtdGC0YDQvtCyINC00LvRjyDQvtCx0YDQsNCx0L7RgtC60Lgg0YDQvtGD0YLQvtCyXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSb3V0ZXIocm91dGVQYXJhbXMpIHtcclxuICB0aGlzLnJvdXRlcyA9IHJvdXRlUGFyYW1zIHx8IFtdO1xyXG4gIHRoaXMuY3VycmVudFJvdXRlO1xyXG4gIHRoaXMucHJldmlvdXNSb3V0ZTtcclxuICB0aGlzLmN1cnJlbnRQYXJhbXM7XHJcbiAgdGhpcy5wcmV2aW91c1BhcmFtcztcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsICgpID0+IHtcclxuICAgIHRoaXMuaGFuZGxlcih3aW5kb3cubG9jYXRpb24uaGFzaCk7XHJcbiAgfSk7XHJcbiAgdGhpcy5oYW5kbGVyKHdpbmRvdy5sb2NhdGlvbi5oYXNoKTtcclxufVxyXG5cclxuUm91dGVyLnByb3RvdHlwZSA9IHtcclxuICBoYW5kbGVyOiBmdW5jdGlvbihoYXNoKSB7XHJcbiAgICB0aGlzLnByZXZpb3VzUm91dGUgPSB0aGlzLmN1cnJlbnRSb3V0ZTtcclxuICAgIHRoaXMucHJldmlvdXNQYXJhbXMgPSB0aGlzLmN1cnJlbnRQYXJhbXM7XHJcbiAgICB0aGlzLmN1cnJlbnRSb3V0ZSA9IHRoaXMuZmluZE5ld1JvdXRlKGhhc2gpO1xyXG4gICAgdGhpcy5sYXVuY2hIYW5kbGVycygpO1xyXG4gIH0sXHJcbiAgZmluZE5ld1JvdXRlOiBmdW5jdGlvbihoYXNoKSB7XHJcbiAgICBoYXNoID0gaGFzaC5zbGljZSgxKTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucm91dGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5yb3V0ZXNbaV07XHJcbiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5tYXRjaCA9PSAnc3RyaW5nJyAmJiBlbGVtZW50Lm1hdGNoID09PSBoYXNoKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFyYW1zID0gJyc7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHR5cGVvZiBlbGVtZW50Lm1hdGNoID09ICdmdW5jdGlvbicgJiYgZWxlbWVudC5tYXRjaChoYXNoKSkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBhcmFtcyA9ICcnO1xyXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChlbGVtZW50Lm1hdGNoIGluc3RhbmNlb2YgUmVnRXhwICYmIGVsZW1lbnQubWF0Y2gudGVzdChoYXNoKSkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBhcmFtcyA9IGhhc2gubWF0Y2goZWxlbWVudC5tYXRjaCkgfHwgW107XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFyYW1zLnNwbGljZSgwLCAxKTtcclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgbGF1bmNoSGFuZGxlcnMoKSB7XHJcbiAgICBQcm9taXNlLnJlc29sdmUoKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcmV2aW91c1JvdXRlICYmXHJcbiAgICAgICAgICB0aGlzLnByZXZpb3VzUm91dGUub25MZWF2ZSAmJlxyXG4gICAgICAgICAgdGhpcy5wcmV2aW91c1JvdXRlLm9uTGVhdmUodGhpcy5wcmV2aW91c1BhcmFtcyk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRSb3V0ZSAmJlxyXG4gICAgICAgICAgdGhpcy5jdXJyZW50Um91dGUub25CZWZvcmVFbnRlciAmJlxyXG4gICAgICAgICAgdGhpcy5jdXJyZW50Um91dGUub25CZWZvcmVFbnRlcih0aGlzLmN1cnJlbnRQYXJhbXMpO1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50Um91dGUgJiZcclxuICAgICAgICAgIHRoaXMuY3VycmVudFJvdXRlLm9uRW50ZXIgJiZcclxuICAgICAgICAgIHRoaXMuY3VycmVudFJvdXRlLm9uRW50ZXIodGhpcy5jdXJyZW50UGFyYW1zKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG59O1xyXG4iXX0=
